"use strict";(self.webpackChunkblockchain_wallet_v4_frontend=self.webpackChunkblockchain_wallet_v4_frontend||[]).push([[8721],{"./src/components/Public/index.js":(e,t,r)=>{r.d(t,{i:()=>c});var n,s,o,a=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=r("./src/services/styles/index.ts");function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=a.ZP.div(n||(n=_taggedTemplateLiteral(["\n  padding: 32px;\n  border-radius: 8px;\n  box-sizing: border-box;\n  background-color: ",";\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.21);\n  width: 480px;\n\n  ","\n  ","\n"])),(function(e){return e.theme.white}),l.BC.tablet(s||(s=_taggedTemplateLiteral(["\n    width: 100%;\n  "]))),l.BC.mobile(o||(o=_taggedTemplateLiteral(["\n    padding: 20px;\n  "]))))},"./src/components/QRCodeWrapper/index.tsx":(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=r("../../node_modules/react/index.js"),s=r("../../node_modules/qrcode.react/lib/index.js"),o=r.n(s),a=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=r("../blockchain-info-components/src/Images/img/qr-logo.svg");const c=a.ZP.div`
  canvas {
    padding: 12px;
    border: 1px solid ${e=>e.theme.grey000};
    border-radius: 6px;
    background-color: white;
  }
`,i={excavate:!1,height:45,src:l,width:45,x:null,y:null},__WEBPACK_DEFAULT_EXPORT__=e=>{const{showImage:t,size:r,value:s}=e;return n.createElement(c,null,n.createElement(o(),{level:"M",value:s,size:r,imageSettings:t?i:null}))}},"./src/components/Terms/index.tsx":(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=r("../../node_modules/react/index.js"),s=r("./node_modules/react-intl/lib/src/components/message.js"),o=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=r("../blockchain-info-components/src/index.js");const l=o.ZP.div`
  & > * {
    display: inline-block;
  }
  ${e=>e.isCentered&&"\n    text-align: center;\n  "};
`,__WEBPACK_DEFAULT_EXPORT__=e=>{const{company:t,isCentered:r=null,recovery:o}=e;return"blockchain-kyc"===t?n.createElement(l,{isCentered:r},n.createElement(a.xv,{size:"12px",weight:400},n.createElement(s.Z,{id:"scenes.register.registerform.blockchainkyc.read",defaultMessage:"By hitting continue, I agree to Blockchain’s"})," "),n.createElement(a.rU,{href:"/root/legal/terms",target:"_blank",size:"12px",weight:500},n.createElement(s.Z,{id:"scenes.register.registerform.blockchain.terms",defaultMessage:"Terms of Service"})," "),"&  ",n.createElement(a.rU,{href:"/root/legal/privacy",target:"_blank",size:"12px",weight:500},n.createElement(s.Z,{id:"scenes.register.registerform.blockchain.privacypolicy",defaultMessage:"Privacy Policy."}))):n.createElement(l,{style:{paddingLeft:o?0:"4px"},isCentered:r},o?n.createElement(a.xv,{color:"grey800",size:"12px",weight:500,style:{margin:"4px 0"}},n.createElement(s.Z,{id:"scenes.register.registerform.blockchain.read-recovery",defaultMessage:"By recovering an account, you agree to Blockchain’s"})):n.createElement(a.xv,{color:"grey800",size:"12px",weight:500},n.createElement(s.Z,{id:"scenes.register.registerform.blockchain.read_1",defaultMessage:"By creating an account, you agree to Blockchain’s"})),n.createElement("span",null," "),n.createElement(a.rU,{href:"/root/legal/terms",target:"_blank",size:"12px",weight:500,"data-e2e":"blockchainTermsLink"},n.createElement(s.Z,{id:"scenes.register.registerform.blockchain.default.terms",defaultMessage:"Terms of Service"}))," ",n.createElement(a.xv,{color:"grey800",size:"12px",weight:500},"&")," ",n.createElement(a.rU,{href:"/root/legal/privacy",target:"_blank",size:"12px",weight:500,"data-e2e":"blockchainPrivacyLink"},n.createElement(s.Z,{id:"copy.privacy_policy",defaultMessage:"Privacy Policy"})),".")}},"./src/scenes/RecoverWallet/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>le});var n=r("../../node_modules/react/index.js"),s=r("../../node_modules/react-redux/es/index.js"),o=r("../../node_modules/redux/es/redux.js"),a=r("../../node_modules/redux-form/es/formValueSelector.js"),l=r("../../node_modules/redux-form/es/getFormMeta.js"),c=r("../../node_modules/redux-form/es/reduxForm.js"),i=r("./src/components/Form/index.ts"),m=r("./src/data/index.ts"),d=r("./src/data/types.ts"),u=r("./node_modules/react-intl/lib/src/components/message.js"),p=r("../../node_modules/react-router-bootstrap/lib/index.js"),g=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=r("../blockchain-info-components/src/index.js"),E=r("./src/components/Public/index.js"),x=r("./src/components/QRCodeWrapper/index.tsx");const y=(0,g.ZP)(h.zx)`
  margin-top: 15px;
`,w=(g.ZP.div`
  width: auto;
`,g.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: ${e=>e.size?e.size:"48px"};
  height: ${e=>e.size?e.size:"48px"};
  min-width: ${e=>e.size?e.size:"48px"};
  background-color: ${e=>e.color?e.theme[e.color]:e.theme.blue000};
  border-radius: ${e=>e.size?e.size:"48px"};
  margin: 8px 8px 8px 0;
`),v=g.ZP.div`
  display: flex;
  margin-bottom: 16px;
`,f=g.ZP.div`
  display: flex;
  flex-direction: column;
`,b=g.ZP.div`
  background-color: ${e=>e.theme.grey000};
  border-radius: 8px;
  margin-top: 24px;
  padding: 16px;
`,C=g.ZP.div`
  display: flex;
  align-items: center;
`,k=(0,g.ZP)(C)`
  justify-content: center;
  padding: 108px 0;
`,ReverifyIdentityInfoBox=()=>n.createElement(b,null,n.createElement(h.xv,{size:"12px",weight:500,lineHeight:"1.5",color:"grey900"},n.createElement(u.Z,{id:"scenes.recovery.reverify",defaultMessage:"For your security, you may have to re-verify your identity before accessing your trading or rewards account."}))),GoBackArrow=e=>n.createElement(C,{style:{marginBottom:"16px"},onClick:()=>e.handleBackArrowClick()},n.createElement(h.JO,{cursor:!0,"data-e2e":"recoverBack",name:"arrow-left",size:"24px",color:"grey600",role:"button",style:{marginRight:"8px"}}),n.createElement(h.xv,{size:"14px",weight:600,color:"grey600",cursor:"pointer"},n.createElement(u.Z,{id:"buttons.go_back",defaultMessage:"Go Back"}))),BackArrowFormHeader=e=>n.createElement(n.Fragment,null,n.createElement(v,null,n.createElement(h.JO,{cursor:!0,"data-e2e":"signupBack",name:"arrow-left",size:"24px",color:"grey600",style:{marginRight:"8px"},role:"button",onClick:()=>e.handleBackArrowClick()}),n.createElement(f,null,n.createElement(h.xv,{color:"grey900",size:"14px",weight:600,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.recovery.email",defaultMessage:"Recovering {email}",values:{email:e.email}})),e.step!==d.GF.RESET_ACCOUNT&&n.createElement(h.xv,{color:"grey600",size:"12px",weight:600,lineHeight:"1.5"},n.createElement(u.Z,{id:"scences.login.wallet_guid",defaultMessage:"Wallet: {guid}",values:{guid:e.guid}}))))),SpinningLoaderCentered=()=>n.createElement(k,null,n.createElement(h.nZ,{width:"56px",height:"56px"}),","),P=g.ZP.div`
  display: flex;
  margin-bottom: 8px;
`,_=(0,g.ZP)(f)`
  max-width: 60%;
  margin-right: 16px;
  > div {
    margin-bottom: 16px;
  }
`,R=(0,g.ZP)(C)`
  justify-content: center;
`,Z=(0,g.ZP)(R)`
  margin: 24px 0;
  & > :first-child {
    margin-right: 16px;
  }
`,A=(0,s.connect)((e=>({phonePubKey:m.wl.Fs.getPhonePubkey(e),qrData:m.wl.Fs.getChannelPrivKeyForQrData(e),secureChannelLoginState:m.wl.I8.getSecureChannelLogin(e)})),(e=>({middlewareActions:(0,o.bindActionCreators)(m.Nw.ws,e)})))((e=>{const{cachedGuid:t,emailFromMagicLink:r,lastGuid:s,qrData:o}=e;return n.createElement(E.i,null,r&&n.createElement(BackArrowFormHeader,{handleBackArrowClick:()=>e.setStep(d.GF.RECOVERY_OPTIONS),email:r,guid:t||s}),!r&&n.createElement(GoBackArrow,{handleBackArrowClick:()=>e.setStep(d.GF.RECOVERY_OPTIONS)}),n.createElement(P,null,!e.phonePubKey&&n.createElement(_,null,n.createElement(h.JO,{name:"padlock",color:"blue600",size:"20px",style:{padding:"0 0 16px 4px"}}),n.createElement(h.xv,{color:"grey900",size:"16px",weight:600,lineHeight:"1.5",style:{marginBottom:"8px"}},n.createElement(u.Z,{id:"scenes.login.qrcodelogin",defaultMessage:"QR Code Log In"})),n.createElement(h.xv,{color:"grey900",size:"12px",weight:500,lineHeight:"1.5",style:{marginBottom:"16px"}},n.createElement(u.Z,{id:"scenes.recovery.cloud_backup.subtitle",defaultMessage:"If your wallet has been backed up to the cloud, scan this QR code with your our.com mobile app."})),n.createElement(h.xv,{color:"grey900",size:"12px",weight:500,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.wallet.mobile_login.description.ios",defaultMessage:"iOS - Tap the Menu button at the top left corner of the app to reveal Web Log In option."})),n.createElement(h.xv,{color:"grey900",size:"12px",weight:500,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.wallet.mobile_login.description.android",defaultMessage:"Android - Tap the QR code icon at the top right corner of the app."}))),e.secureChannelLoginState.cata({Failure:e=>n.createElement(h.xv,null,"string"==typeof e?e:n.createElement(u.Z,{id:"scenes.login.qrcodelogin_failed",defaultMessage:"Login failed. Please refresh browser and try again."})),Loading:()=>n.createElement(h.xv,{size:"14px",weight:600},n.createElement(u.Z,{id:"scenes.login.qrcodelogin_success_confirm",defaultMessage:"Please confirm the login on your mobile device."})),NotAsked:()=>n.createElement(x.Z,{value:o,size:175,showImage:!0}),Success:()=>n.createElement(h.xv,{size:"14px",weight:600},n.createElement(u.Z,{id:"scenes.login.qrcodelogin_success",defaultMessage:"Success! Logging in..."}))})),n.createElement(Z,null,n.createElement(h.Ct,{size:"40px",type:"applestore"}),n.createElement(h.Ct,{size:"40px",type:"googleplay"})),n.createElement(R,null,n.createElement(p.Ji,{to:"/help"},n.createElement(h.rU,{size:"13px",weight:600,"data-e2e":"loginGetHelp"},n.createElement(u.Z,{id:"copy.need_some_help",defaultMessage:"Need some help?"})))))})),S=g.ZP.div`
  display: flex;
  flex-direction: column;
`,z=g.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 24px;
`,M=g.ZP.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
`,O=(0,g.ZP)(M)`
  cursor: ${e=>e.hasCloudBackup?"pointer":"not-allowed"};
`,F=g.ZP.div`
  max-width: 312px;
`,RecoverWallet_RecoveryOptions=e=>{const{authActions:t,cachedGuid:r,emailFromMagicLink:s,formActions:o,hasCloudBackup:a,lastGuid:l,nabuId:c,routerActions:i}=e,m=a?"grey900":"grey100";return n.createElement(E.i,null,s&&n.createElement(BackArrowFormHeader,{handleBackArrowClick:()=>i.push("/login"),email:s,guid:r||l}),!s&&n.createElement(GoBackArrow,{handleBackArrowClick:()=>i.push("/login")}),n.createElement(S,null,n.createElement(h.xv,{color:"grey900",size:"20px",weight:600,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.recovery_options.title",defaultMessage:"Recovery Options"})),n.createElement(O,{hasCloudBackup:a,onClick:()=>{a&&(o.change("recover","step",d.GF.CLOUD_RECOVERY),t.recoveryOptionSelected("CLOUD_BACKUP"))}},n.createElement(w,{color:a?"blue000":"grey000"},n.createElement(h.JO,{name:"cloud",color:a?"blue600":"grey200",size:"16px"})),n.createElement(F,null,n.createElement(h.xv,{color:m,size:"14px",weight:600,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.recovery_options.cloud_backup.title",defaultMessage:"Recover Account with Cloud Backup"})),n.createElement(h.xv,{color:m,size:"12px",weight:500,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.recovery_options.cloud_backup",defaultMessage:"Restore your account using your phone and the cloud."}))),n.createElement(h.JO,{name:"chevron-right",size:"20px",color:"grey400"})),n.createElement(M,{onClick:()=>{o.change("recover","step",d.GF.RECOVERY_PHRASE),t.recoveryOptionSelected("RECOVERY_PHRASE")}},n.createElement(w,{color:"blue000"},n.createElement(h.JO,{name:"keyboard",color:"blue600",size:"22px"})),n.createElement(F,null,n.createElement(h.xv,{color:"grey900",size:"14px",weight:600,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.recovery_options.phrase.title",defaultMessage:"Recover Account with Recovery Phrase"})),n.createElement(h.xv,{color:"grey600",size:"12px",weight:500,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.login.recovery_options.phrase",defaultMessage:"Restore your account with your 12-word Secret Private key Recovery Phrase."}))),n.createElement(h.JO,{name:"chevron-right",size:"20px",color:"grey400"}))),n.createElement(z,null,n.createElement(h.xv,{size:"13px",weight:600,color:"grey600"},n.createElement(u.Z,{id:"scenes.login.trouble_logging_in",defaultMessage:"Trouble Logging In?"})),c?n.createElement(h.xv,{size:"13px",weight:600,color:"blue600","data-e2e":"troubleLoggingIn",cursor:"pointer",onClick:()=>{o.change("recover","step",d.GF.RESET_ACCOUNT),t.resetAccountClicked("RECOVERY_OPTIONS")},style:{marginLeft:"4px"}},n.createElement(u.Z,{id:"scenes.login.reset_your_account.arrow",defaultMessage:"Reset your account ->"})):n.createElement(h.rU,{weight:600,size:"13px",target:"_blank",href:"/support/",style:{marginLeft:"2px"}},n.createElement(u.Z,{id:"buttons.contact_support",defaultMessage:"Contact Support"}))))};var T=r("../../node_modules/redux-form/es/Field.js"),I=r("./src/services/forms/index.js");const N=g.ZP.div`
  display: flex;
  flex-direction: column;
`,B=g.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 24px;
`,RecoveryPhrase_FirstStep=e=>{const{cachedEmail:t,cachedGuid:r,emailFromMagicLink:s,formActions:o,invalid:a,lastGuid:l,nabuId:c,setStep:m,submitting:p}=e;return n.createElement(E.i,null,s&&n.createElement(BackArrowFormHeader,{handleBackArrowClick:()=>m(d.GF.RECOVERY_OPTIONS),email:s,guid:r||l}),n.createElement(N,null,n.createElement(h.xv,{color:"grey900",size:"16px",weight:600,lineHeight:"1.5",style:{marginBottom:"8px"}},n.createElement(u.Z,{id:"scenes.recovery.title",defaultMessage:"Input your secret private key recovery phrase"})),n.createElement(h.xv,{color:"grey600",size:"12px",weight:500,lineHeight:"1.5",style:{marginBottom:"16px"}},n.createElement(u.Z,{id:"scenes.reovery.subtitle",defaultMessage:"Your 12 word Secret Private Key Recovery Phrase grants access to your account. Please input it in the order specified."})),n.createElement(T.Z,{bgColor:"grey000",autoComplete:"off",autoFocus:!0,component:i.Kx,disableSpellcheck:!0,name:"mnemonic",validate:[I.C1,I.$i],height:"96px",placeholder:"Enter your secret private key recovery phrase"})),n.createElement(h.xv,{size:"14px",weight:500,color:"grey600",lineHeight:"1.5",style:{margin:"8px 0 24px",textAlign:"center"}},n.createElement(u.Z,{id:"scenes.recover.firststep.space",defaultMessage:"Separate each word with a space"})),n.createElement(h.zx,{type:"submit",nature:"primary",fullwidth:!0,height:"48px",disabled:p||a,"data-e2e":"submitRecoveryPhrase",style:{marginBottom:"16px"}},p?n.createElement(h.JA,{height:"20px",width:"20px",color:"white"}):n.createElement(h.xv,{color:"whiteFade900",size:"16px",weight:600},n.createElement(u.Z,{id:"buttons.continue",defaultMessage:"Continue"}))),!t&&n.createElement(h.xv,{size:"13px",color:"blue600",weight:600,onClick:()=>m(d.GF.RECOVERY_OPTIONS),style:{textAlign:"center"},cursor:"pointer"},n.createElement(u.Z,{id:"buttons.go_back",defaultMessage:"Go Back"})),n.createElement(B,null,n.createElement(h.xv,{size:"13px",weight:600,color:"grey600"},n.createElement(u.Z,{id:"scenes.login.trouble_logging_in",defaultMessage:"Trouble Logging In?"})),c?n.createElement(h.xv,{size:"13px",weight:600,color:"blue600","data-e2e":"troubleLoggingIn",cursor:"pointer",onClick:()=>{o.change("recover","step",d.GF.RESET_ACCOUNT),e.authActions.resetAccountClicked("RECOVERY_PHRASE")},style:{marginLeft:"4px"}},n.createElement(u.Z,{id:"scenes.login.reset_your_account",defaultMessage:"Reset your account"})):n.createElement(h.rU,{weight:600,size:"13px",target:"_blank",href:"/support/",style:{marginLeft:"2px"}},n.createElement(u.Z,{id:"buttons.contact_support",defaultMessage:"Contact Support"}))))};var j=r("../blockchain-wallet-v4/src/index.ts");const L=g.ZP.div`
  display: flex;
  text-align: center;
  align-items: center;
  flex-direction: column;
`,failure_template=e=>n.createElement(E.i,null,n.createElement(L,null,n.createElement(h.JO,{color:"error",name:"close-circle",size:"40px"}),n.createElement(h.xv,{size:"20px",weight:600,color:"black",style:{marginTop:"8px"}},n.createElement(u.Z,{id:"scenes.recover.restore_fails",defaultMessage:"Restoring Account Failed"})),n.createElement(h.xv,{color:"blue600",size:"16px",weight:500,cursor:"pointer",onClick:e.previousStep},n.createElement(u.Z,{id:"scenes.exchange.exchangeform.tryagain",defaultMessage:"Try Again"}))));var G=r("../../node_modules/ramda/es/has.js"),H=r("./src/components/Terms/index.tsx");const Y=g.ZP.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,import_template=e=>{const{handleGoBackClick:t,handleImportNowClick:r}=e;return n.createElement(n.Fragment,null,n.createElement(Y,null,n.createElement(w,{color:"blue600",size:"40px"},n.createElement(h.JO,{name:"request",color:"white",size:"20px"})),n.createElement(h.xv,{color:"grey900",size:"20px",weight:600,lineHeight:"1.5",style:{marginBottom:"8px"}},n.createElement(u.Z,{id:"scenes.recovery.import.title",defaultMessage:"Import Your Wallet"})),n.createElement(h.xv,{color:"grey900",size:"16px",weight:500,lineHeight:"1.5",style:{textAlign:"center"}},n.createElement(u.Z,{id:"scenes.recovery.import.body",defaultMessage:"There’s no account associated with the seed phrase you entered. You can import and manage your wallet instead."}))),n.createElement(y,{nature:"primary",fullwidth:!0,height:"48px","data-e2e":"resetAccountButton",style:{marginBottom:"16px"},onClick:r},n.createElement(u.Z,{id:"buttons.import_now",defaultMessage:"Import Now"})),n.createElement(y,{nature:"empty-blue",fullwidth:!0,height:"48px","data-e2e":"goBack",style:{marginBottom:"16px"},onClick:t},n.createElement(u.Z,{id:"buttons.cancel_goback",defaultMessage:"Cancel & Go Back"})))},V=(0,g.ZP)(f)`
  align-items: center;
  margin-bottom: 32px;
`,U=(0,I.yT)("recoverPassword");class W extends n.PureComponent{constructor(e){super(e),this.handleImportNowClick=()=>{this.setState({importWalletPrompt:!1})},this.handleGoBackClick=()=>{this.props.setStep(d.GF.RECOVERY_OPTIONS)},this.state={importWalletPrompt:!0}}render(){const{invalid:e,isRestoring:t,isRestoringFromMetadata:r,recoverPassword:s}=this.props;return n.createElement(n.Fragment,null,!r&&!this.state.importWalletPrompt&&n.createElement(V,null,n.createElement(h.xv,{size:"24px",color:"white",weight:600,lineHeight:"2"},n.createElement(u.Z,{id:"scenes.recover.import.header",defaultMessage:"Create Your our.com Account"})),n.createElement(h.xv,{size:"16px",color:"grey600",weight:500,lineHeight:"1.5"},n.createElement(u.Z,{id:"scenes.recover.import.subheader",defaultMessage:"Create your account to access your imported wallet"}))),r&&n.createElement(V,null,n.createElement(h.xv,{size:"24px",color:"white",weight:600,lineHeight:"2"},n.createElement(u.Z,{id:"scenes.recover.reset_password",defaultMessage:"Reset Password"}))),n.createElement(E.i,null,!r&&this.state.importWalletPrompt?n.createElement(import_template,Object.assign({handleGoBackClick:this.handleGoBackClick,handleImportNowClick:this.handleImportNowClick},this.props)):n.createElement(n.Fragment,null,n.createElement(i.l0,null,!r&&n.createElement(i.cw,null,n.createElement(i.lX,{htmlFor:"email"},n.createElement(u.Z,{id:"scenes.recover.secondstep.email",defaultMessage:"New Email"})),n.createElement(T.Z,{bgColor:"grey000",name:"email",validate:[I.C1,I.u$],component:i.zC})),n.createElement(i.cw,null,n.createElement(i.lX,{htmlFor:"password"},r&&n.createElement(u.Z,{id:"scenes.recover.secondstep.password",defaultMessage:"Password"}),!r&&n.createElement(u.Z,{id:"copy.new_password",defaultMessage:"New Password"})),n.createElement(T.Z,{bgColor:"grey000",name:"recoverPassword",validate:[I.C1,I.ST],component:i.MY,showPasswordScore:!0,passwordScore:(0,G.Z)("zxcvbn",window)?window.zxcvbn(s).score:0})),n.createElement(i.cw,null,n.createElement(i.lX,{htmlFor:"confirmationPassword"},n.createElement(u.Z,{id:"scenes.recover.secondstep.confirmapassword",defaultMessage:"Confirm Password"})),n.createElement(T.Z,{bgColor:"grey000",name:"confirmationPassword",validate:[I.C1,U],component:i.MY})),n.createElement(i.cw,null,n.createElement(H.Z,{recovery:!0})),r&&n.createElement(ReverifyIdentityInfoBox,null),n.createElement(h.zx,{"data-e2e":"recoverSubmit",disabled:t||e,nature:"primary",type:"submit",fullwidth:!0,style:{marginTop:"24px"}},t?n.createElement(h.JA,{height:"20px",width:"20px",color:"white"}):r?n.createElement(u.Z,{id:"scenes.recover.reset_password",defaultMessage:"Reset Password"}):n.createElement(u.Z,{id:"buttons.continue",defaultMessage:"Continue"}))))))}}const J=W;class D extends n.PureComponent{componentDidMount(){const{authActions:e,mnemonic:t}=this.props;e.restoreFromMetadata(t)}render(){const{kycReset:e,metadataRestore:t,previousStep:r,recoverPassword:s,restoringR:o}=this.props,a=j.Nt.Loading.is(o);return t.cata({Failure:()=>!1===e?n.createElement(failure_template,{previousStep:r}):n.createElement(J,Object.assign({},this.props)),Loading:()=>n.createElement(SpinningLoaderCentered,null),NotAsked:()=>n.createElement(SpinningLoaderCentered,null),Success:e=>n.createElement(J,Object.assign({isRestoring:a,isRestoringFromMetadata:e&&!!e.sharedKey},this.props))})}}const SecondStep_mapStateToProps=e=>({metadataRestore:m.wl.I8.getMetadataRestore(e),restoringR:m.wl.I8.getRestoring(e)}),SecondStep_mapDispatchToProps=e=>({alertActions:(0,o.bindActionCreators)(m.Nw.$u,e),authActions:(0,o.bindActionCreators)(m.Nw.I8,e)}),$=((0,s.connect)(SecondStep_mapStateToProps,SecondStep_mapDispatchToProps),(0,s.connect)(SecondStep_mapStateToProps,SecondStep_mapDispatchToProps)(D));class q extends n.PureComponent{constructor(e){super(e),this.setStep=e=>{this.props.formActions.change("recover","step",e)},this.handleSubmit=e=>{e.preventDefault();const{authActions:t,email:r,language:n,mnemonic:s,recoverPassword:o}=this.props;1===this.state.step?this.setState({step:2}):(localStorage.setItem("p",btoa(s)),t.restore({email:r,language:n,mnemonic:s,network:void 0,password:o}))},this.previousStep=()=>{this.setState({step:1})},this.state={step:1}}componentWillUnmount(){this.props.formActions.clearFields("recover",!1,!1,"mnemonic")}render(){return n.createElement(i.l0,{onSubmit:this.handleSubmit},1===this.state.step&&n.createElement(RecoveryPhrase_FirstStep,Object.assign({},this.props)),2===this.state.step&&n.createElement($,Object.assign({previousStep:this.previousStep},this.props)))}}const K=q,Q=g.ZP.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`;class X extends n.PureComponent{constructor(e){super(e),this.handleResetAccountClick=()=>{!0===this.state.firstResetAcccountPrompt?(this.setState({firstResetAcccountPrompt:!1}),this.props.authActions.resetAccountClicked("RESET_CONFIRMATION")):(this.props.setFormStep(),this.props.authActions.resetAccountClicked("RESET_FINAL_WARNING"))},this.handleGoBackClick=()=>{!0===this.state.firstResetAcccountPrompt?(this.props.setStep(d.GF.RECOVERY_OPTIONS),this.props.authActions.resetAccountCancelled("RESET_CONFIRMATION")):(this.setState({firstResetAcccountPrompt:!0}),this.props.authActions.resetAccountCancelled("RESET_FINAL_WARNING"))},this.state={firstResetAcccountPrompt:!0}}render(){const{emailFromMagicLink:e}=this.props;return n.createElement(n.Fragment,null,n.createElement(BackArrowFormHeader,{handleBackArrowClick:this.handleGoBackClick,email:e,step:d.GF.RESET_ACCOUNT}),this.state.firstResetAcccountPrompt&&n.createElement(Q,null,n.createElement(w,{color:"blue600",size:"40px",style:{marginTop:"16px"}},n.createElement(h.JO,{name:"sync-regular",color:"white",size:"20px"})),n.createElement(h.xv,{color:"grey900",size:"20px",weight:600,lineHeight:"1.5",style:{margin:"8px 0"}},n.createElement(u.Z,{id:"scenes.recovery.reset",defaultMessage:"Reset Your Account?"})),n.createElement(h.xv,{color:"grey900",size:"16px",weight:500,lineHeight:"1.5",style:{textAlign:"center"}},n.createElement(u.Z,{id:"scenes.recovery.resetting",defaultMessage:"Resetting will restore your Trading, Rewards, and Exchange accounts."}))),!this.state.firstResetAcccountPrompt&&n.createElement(Q,null,n.createElement(w,{color:"orange600",size:"40px",style:{marginTop:"16px"}},n.createElement(h.JO,{name:"alert-filled",color:"white",size:"20px",style:{marginBottom:"2px"}})),n.createElement(h.xv,{color:"grey900",size:"20px",weight:600,lineHeight:"1.5",style:{margin:"8px 0",textAlign:"center"}},n.createElement(u.Z,{id:"sscenes.recovery.reset_warning_title",defaultMessage:"Resetting Account May Result in Lost Funds"})),n.createElement(h.xv,{color:"grey900",size:"16px",weight:500,lineHeight:"1.5",style:{textAlign:"center"}},n.createElement(u.Z,{id:"scenes.recovery.reset_warning_body",defaultMessage:"This means that if you lose your recovery phrase, you will lose access to your Private Key Wallet funds. You can restore your Private Key Wallet funds later if you find your recovery phrase."}))),n.createElement(y,{nature:"primary",fullwidth:!0,height:"48px","data-e2e":"resetAccountButton",style:{margin:"24px 0 16px 0"},onClick:this.handleResetAccountClick},n.createElement(u.Z,{id:"buttons.reset_account",defaultMessage:"Reset Account"})))}}const ee=X,te=(0,g.ZP)(i.cw)`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
`,re=(0,I.yT)("resetAccountPassword"),StepTwo=e=>{const{emailFromMagicLink:t,invalid:r,isRegistering:s,resetPassword:o,setStep:a}=e;return n.createElement(n.Fragment,null,n.createElement(BackArrowFormHeader,{handleBackArrowClick:()=>a(d.GF.RECOVERY_OPTIONS),email:t,step:d.GF.RESET_ACCOUNT}),n.createElement(i.cw,null,n.createElement(i.lX,{htmlFor:"password"},n.createElement(u.Z,{id:"copy.new_password",defaultMessage:"New Password"})),n.createElement(T.Z,{bgColor:"grey000",name:"resetAccountPassword",validate:[I.C1,I.ST],component:i.MY,showPasswordScore:!0,passwordScore:(0,G.Z)("zxcvbn",window)?window.zxcvbn(o).score:0})),n.createElement(i.cw,null,n.createElement(i.lX,{htmlFor:"confirmationPassword"},n.createElement(u.Z,{id:"scenes.recover.secondstep.confirmapassword",defaultMessage:"Confirm Password"})),n.createElement(T.Z,{bgColor:"grey000",name:"confirmationPassword",validate:[I.C1,re],component:i.MY})),n.createElement(i.cw,null,n.createElement(H.Z,{recovery:!0})),n.createElement(ReverifyIdentityInfoBox,null),n.createElement(te,null,n.createElement(y,{"data-e2e":"recoverSubmit",disabled:s||r,nature:"primary",type:"submit",fullwidth:!0},s?n.createElement(h.JA,{height:"20px",width:"20px",color:"white"}):n.createElement(u.Z,{id:"scenes.recover.secondstep.recover",defaultMessage:"Recover Funds"}))))};class ne extends n.PureComponent{constructor(e){super(e),this.setFormStep=()=>{this.setState({step:2})},this.handleSubmit=e=>{e.preventDefault();const{authActions:t,cachedEmail:r,language:n,resetPassword:s}=this.props;t.resetAccount({email:r,language:n,password:s})},this.state={step:1}}render(){const e=j.Nt.Loading.is(this.props.registering);return n.createElement(n.Fragment,null,n.createElement(E.i,null,n.createElement(i.l0,{onSubmit:this.handleSubmit},1===this.state.step&&n.createElement(ee,Object.assign({},this.props,{setFormStep:this.setFormStep})),2===this.state.step&&n.createElement(StepTwo,Object.assign({},this.props,{isRegistering:e})))))}}const se=(0,s.connect)((e=>({language:m.wl.cb.getLanguage(e)})),(e=>({authActions:(0,o.bindActionCreators)(m.Nw.I8,e)})))(ne);class oe extends n.PureComponent{constructor(){super(...arguments),this.setStep=e=>{this.props.formActions.change("recover","step",e)}}componentDidMount(){this.props.formActions.change("recover","step",d.GF.RECOVERY_OPTIONS)}componentWillUnmount(){this.props.formActions.destroy("recover")}render(){const{step:e}=this.props.formValues||d.GF.RECOVERY_OPTIONS;return n.createElement(i.l0,null,(()=>{switch(e){case d.GF.RECOVERY_OPTIONS:return n.createElement(RecoverWallet_RecoveryOptions,Object.assign({},this.props,{setStep:this.setStep}));case d.GF.CLOUD_RECOVERY:return n.createElement(A,Object.assign({},this.props,{setStep:this.setStep}));case d.GF.RECOVERY_PHRASE:return n.createElement(K,Object.assign({},this.props,{setStep:this.setStep}));case d.GF.RESET_ACCOUNT:return n.createElement(se,Object.assign({},this.props,{setStep:this.setStep}));default:return n.createElement(RecoverWallet_RecoveryOptions,Object.assign({},this.props,{setStep:this.setStep}))}})())}}const ae=(0,s.connect)((e=>{var t,r,n,s,o;return{cachedEmail:m.wl.Fs.getEmail(e),cachedGuid:m.wl.Fs.getStoredGuid(e),email:(0,a.Z)("recover")(e,"email"),emailFromMagicLink:null===(r=null===(t=m.wl.I8.getMagicLinkData(e))||void 0===t?void 0:t.wallet)||void 0===r?void 0:r.email,formMeta:(0,l.Z)("recover")(e),formValues:m.wl.cr.getFormValues("recover")(e),hasCloudBackup:m.wl.Fs.getHasCloudBackup(e),kycReset:m.wl.I8.getKycResetStatus(e),language:m.wl.cb.getLanguage(e),lastGuid:m.wl.Fs.getLastGuid(e),loginFormValues:m.wl.cr.getFormValues("login")(e),mnemonic:(0,a.Z)("recover")(e,"mnemonic"),nabuId:null===(o=null===(s=null===(n=m.wl.I8.getMagicLinkData(e))||void 0===n?void 0:n.wallet)||void 0===s?void 0:s.nabu)||void 0===o?void 0:o.user_id,recoverPassword:(0,a.Z)("recover")(e,"recoverPassword")||"",registering:m.wl.I8.getRegistering(e),resetPassword:(0,a.Z)("recover")(e,"resetAccountPassword")||""}}),(e=>({authActions:(0,o.bindActionCreators)(m.Nw.I8,e),cacheActions:(0,o.bindActionCreators)(m.Nw.Fs,e),formActions:(0,o.bindActionCreators)(m.Nw.cr,e),routerActions:(0,o.bindActionCreators)(m.Nw.Nd,e)}))),le=(0,o.compose)((0,c.Z)({destroyOnUnmount:!1,form:"recover"}),ae)(oe)},"../blockchain-info-components/src/Images/img/qr-logo.svg":(e,t,r)=>{e.exports=r.p+"img/qr-logo.svg?bea9aa272d2faeff8c2b"}}]);