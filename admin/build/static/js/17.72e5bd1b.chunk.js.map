{"version":3,"sources":["../node_modules/@material-ui/icons/Navigation.js","../node_modules/@material-ui/icons/Save.js","../node_modules/@material-ui/icons/Backup.js","../node_modules/@material-ui/icons/Restore.js","modules/pages/Settings.tsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","useStyles","makeStyles","theme","container","flexWrap","margin","spacing","flex","extendedIcon","marginRight","row","display","alignItems","centerRow","justifyContent","Settings","classes","dispatch","useDispatch","useSelector","settings","refDomain","specDomain","clientDomain","cookieCheckDomain","useState","_refDomain","setRefDomain","_specDomain","setSpecDomain","_clientDomain","setClientDomain","_cookieCheckDomain","setCookieCheckDomain","useEffect","onGetDomains","File","selectedFile","setSelectedFile","animation","delay","validateOnChange","initialValues","onSubmit","_data","setSubmitting","onSaveDomains","isSubmitting","className","noValidate","autoComplete","variant","size","color","id","label","onChange","e","target","style","fullWidth","name","InputLabelProps","shrink","type","disabled","padding","borderStyle","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth","href","download","event","files","onClick","formData","FormData","append","fetch","method","body","then","response","json","result","alert","console","log","catch","error"],"mappings":"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","file":"static/js/17.72e5bd1b.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z\"\n}), 'Navigation');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'Backup');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"\n}), 'Restore');\n\nexports.default = _default;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    useDispatch,\r\n    useSelector,\r\n} from 'react-redux';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppAnimate from '../../@crema/core/AppAnimate';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport NavigationIcon from '@material-ui/icons/Navigation';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport RestoreIcon from '@material-ui/icons/Restore';\r\nimport { Form, Formik } from 'formik';\r\nimport { onGetDomains, onSaveDomains } from '../../redux/actions';\r\nimport { AppState } from '../../redux/store';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        flexWrap: 'wrap',\r\n    },\r\n    margin: {\r\n        margin: theme.spacing(1),\r\n        flex: 1\r\n    },\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        margin: theme.spacing(3)\r\n    },\r\n    centerRow: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        margin: theme.spacing(3)\r\n    },\r\n}));\r\n\r\nconst Settings = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const { refDomain, specDomain, clientDomain, cookieCheckDomain } = useSelector<\r\n        AppState,\r\n        AppState['settings']\r\n    >(({ settings }) => settings);\r\n\r\n    const [_refDomain, setRefDomain] = useState(refDomain)\r\n    const [_specDomain, setSpecDomain] = useState(specDomain)\r\n    const [_clientDomain, setClientDomain] = useState(clientDomain)\r\n    const [_cookieCheckDomain, setCookieCheckDomain] = useState(cookieCheckDomain)\r\n\r\n    useEffect(() => {\r\n        dispatch(onGetDomains());\r\n        setRefDomain(refDomain)\r\n        setSpecDomain(specDomain)\r\n        setClientDomain(clientDomain)\r\n        setCookieCheckDomain(cookieCheckDomain)\r\n    }, [dispatch, refDomain, specDomain, clientDomain, cookieCheckDomain])\r\n\r\n    const [selectedFile, setSelectedFile] = useState(new File([], 'unknown'));\r\n\r\n    const changeHandler = (event: any) => {\r\n        setSelectedFile(event.target.files[0]);\r\n    };\r\n\r\n    const handleSubmission = () => {\r\n        const formData = new FormData();\r\n\r\n        formData.append('File', selectedFile);\r\n\r\n        fetch(\r\n            process.env.REACT_APP_API_SERVER + '/admin/api/settings/restore',\r\n            {\r\n                method: 'POST',\r\n                body: formData,\r\n            }\r\n        )\r\n            .then((response) => response.json())\r\n            .then((result) => {\r\n                alert(\"Restore successed\");\r\n                console.log('Success:', result);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <AppAnimate animation='transition.slideUpIn' delay={200}>\r\n            <Box>\r\n                <Formik\r\n                    validateOnChange={true}\r\n                    initialValues={{}}\r\n                    onSubmit={(_data, { setSubmitting }) => {\r\n                        setSubmitting(true);\r\n                        dispatch(onSaveDomains(_refDomain, _specDomain, _clientDomain, _cookieCheckDomain));\r\n                        setSubmitting(false);\r\n                    }}>\r\n                    {({ isSubmitting }) => (\r\n                        <Form className={classes.container} noValidate autoComplete='off'>\r\n                            <div className={classes.row}>\r\n                                <Fab\r\n                                    variant='extended'\r\n                                    size='medium'\r\n                                    color='primary'\r\n                                    aria-label='add'\r\n                                    className={classes.margin}>\r\n                                    <NavigationIcon className={classes.extendedIcon} />\r\n                                    Reference Domain\r\n                                </Fab>\r\n                                <TextField\r\n                                    id='ref-domain'\r\n                                    label='Reference Domain'\r\n                                    value={_refDomain}\r\n                                    onChange={(e) => setRefDomain(e.target.value)}\r\n                                    style={{ margin: 8, flex: 3 }}\r\n                                    // placeholder='Placeholder'\r\n                                    // helperText='Full width!'\r\n                                    fullWidth\r\n                                    margin='normal'\r\n                                    variant='outlined'\r\n                                    name='refDomain'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={classes.row}>\r\n                                <Fab\r\n                                    variant='extended'\r\n                                    size='medium'\r\n                                    color='primary'\r\n                                    aria-label='add'\r\n                                    className={classes.margin}>\r\n                                    <NavigationIcon className={classes.extendedIcon} />\r\n                                    Redirecting Domain\r\n                                </Fab>\r\n                                <TextField\r\n                                    id='redirecting-domain'\r\n                                    label='Redirecting Domain'\r\n                                    value={_specDomain}\r\n                                    onChange={(e) => setSpecDomain(e.target.value)}\r\n                                    style={{ margin: 8, flex: 3 }}\r\n                                    fullWidth\r\n                                    margin='normal'\r\n                                    variant='outlined'\r\n                                    name='specDomain'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={classes.row}>\r\n                                <Fab\r\n                                    variant='extended'\r\n                                    size='medium'\r\n                                    color='primary'\r\n                                    aria-label='add'\r\n                                    className={classes.margin}>\r\n                                    <NavigationIcon className={classes.extendedIcon} />\r\n                                    Main Domain\r\n                                </Fab>\r\n                                <TextField\r\n                                    id='main-domain'\r\n                                    label='Main Domain'\r\n                                    value={_clientDomain}\r\n                                    onChange={(e) => setClientDomain(e.target.value)}\r\n                                    style={{ margin: 8, flex: 3 }}\r\n                                    fullWidth\r\n                                    margin='normal'\r\n                                    variant='outlined'\r\n                                    name='clientDomain'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={classes.row}>\r\n                                <Fab\r\n                                    variant='extended'\r\n                                    size='medium'\r\n                                    color='primary'\r\n                                    aria-label='add'\r\n                                    className={classes.margin}>\r\n                                    <NavigationIcon className={classes.extendedIcon} />\r\n                                    Cookie Check Domain\r\n                                </Fab>\r\n                                <TextField\r\n                                    id='cookie-check-domain'\r\n                                    label='Cookie Check Domain'\r\n                                    value={_cookieCheckDomain}\r\n                                    onChange={(e) => setCookieCheckDomain(e.target.value)}\r\n                                    style={{ margin: 8, flex: 3 }}\r\n                                    fullWidth\r\n                                    margin='normal'\r\n                                    variant='outlined'\r\n                                    name='cookieCheckDomain'\r\n                                    InputLabelProps={{\r\n                                        shrink: true,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={classes.centerRow}>\r\n                                <Fab\r\n                                    variant='extended'\r\n                                    size='medium'\r\n                                    type='submit'\r\n                                    color='primary'\r\n                                    aria-label='add'\r\n                                    disabled={isSubmitting}\r\n                                // className={classes.margin}\r\n                                >\r\n                                    <SaveIcon className={classes.extendedIcon} />\r\n                                    SAVE\r\n                                </Fab>\r\n                            </div>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n                <Box style={{\r\n                    padding: 10,\r\n                    borderStyle: 'solid',\r\n                    borderLeftWidth: 0,\r\n                    borderRightWidth: 0,\r\n                    borderBottomWidth: 0,\r\n                    borderTopWidth: 1,\r\n                    display: 'flex'\r\n                }}>\r\n                    <a href={process.env.REACT_APP_API_SERVER + '/admin/api/settings/backup'} download='blockchaindb' style={{ marginRight: 50 }}>\r\n                        <BackupIcon className={classes.extendedIcon} />\r\n                        Backup\r\n                    </a>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <input type=\"file\" name=\"file\" onChange={changeHandler} />\r\n                        <div>\r\n                            <button onClick={handleSubmission}>\r\n                                <RestoreIcon className={classes.extendedIcon} />\r\n                                Restore\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </Box>\r\n            </Box>\r\n        </AppAnimate>\r\n    );\r\n};\r\n\r\nexport default Settings;\r\n"],"sourceRoot":""}