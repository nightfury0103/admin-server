"use strict";(self.webpackChunkblockchain_wallet_v4_frontend=self.webpackChunkblockchain_wallet_v4_frontend||[]).push([[8044],{"./src/modals/Bch/SendBch/index.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ye});var r=n("../../node_modules/react/index.js"),o=n("../../node_modules/react-redux/es/index.js"),i=n("../../node_modules/prop-types/index.js"),c=n.n(i),a=n("../../node_modules/redux/es/redux.js"),l=n("./src/data/index.ts"),s=n("./src/providers/ModalEnhancer/index.tsx"),u=n("../../node_modules/bitcoinjs-lib/src/index.js"),d=n("../../node_modules/ramda/es/path.js"),p=n("../../node_modules/ramda/es/prop.js"),m=n("../../node_modules/redux-form/es/formValueSelector.js"),f=function getData(e){var t=(0,m.Z)(l.o4.wx.Xt.Y)(e,"amount"),n=(0,m.Z)(l.o4.wx.Xt.Y)(e,"to"),r=(0,m.Z)(l.o4.wx.Xt.Y)(e,"from"),o=l.wl.wx.Xt.getPayment(e),i=l.wl.wx.Xt.getSendLimits(e).getOrElse({}),c=l.wl.vE.gU.isMnemonicVerified(e),a=u.QW.bitcoin;return o.map((function transform(e){var o=(0,d.Z)(["fees","limit","min"],e),l=(0,d.Z)(["fees","limit","max"],e),s=(0,d.Z)(["selection","fee"],e),u=(0,p.Z)("effectiveBalance",e);return{amount:t,destination:n,effectiveBalance:u,excludeLockbox:false,from:r,isMnemonicVerified:c,maxFeePerByte:l,minFeePerByte:o,network:a,sendLimits:i,totalFee:s}}))};var h,y=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),x=n("../blockchain-info-components/src/index.js");var g=y.ZP.div(h||(h=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  box-sizing: border-box;\n"])));const template_error=function(e){return r.createElement(g,null,r.createElement(x.xv,{size:"12px",weight:400,color:"red600"},e.children))};var b,S=n("./src/services/styles/index.ts");var _=y.ZP.div(b||(b=function template_loading_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  width: 100%;\n  height: 460px;\n  box-sizing: border-box;\n"])));const template_loading=function(e){return r.createElement(_,null,r.createElement(x.co,{height:"20px",width:"30%"}),r.createElement(x.co,{height:"40px",width:"100%",style:(0,S.W0)("mt-15")}),r.createElement(x.co,{height:"20px",width:"30%",style:(0,S.W0)("mt-30")}),r.createElement(x.co,{height:"40px",width:"100%",style:(0,S.W0)("mt-15")}),r.createElement(x.co,{height:"20px",width:"30%",style:(0,S.W0)("mt-15")}),r.createElement(x.co,{height:"40px",width:"100%",style:(0,S.W0)("mt-15")}),r.createElement(x.co,{height:"80px",width:"100%",style:(0,S.W0)("mt-40")}))};var E=n("./node_modules/react-intl/lib/src/components/message.js"),v=n("../../node_modules/bowser/es5.js"),w=n.n(v),O=n("../../node_modules/ramda/es/isEmpty.js"),P=n("../../node_modules/redux-form/es/Field.js"),C=n("../../node_modules/redux-form/es/reduxForm.js"),B=n("./src/components/Display/ComboDisplay/index.js"),j=n("./src/components/Flyout/Banners/UpgradeToGold.tsx"),Z=n("./src/components/Form/index.ts"),T=n("./src/components/QRCode/Capture/index.js"),k=n("./src/components/Send/index.tsx"),A=n("./src/components/Send/RecoveryPhrase/index.tsx"),L=n("./src/components/UnstoppableDomains/index.tsx"),z=n("./src/services/forms/index.js"),M=n("./src/modals/Settings/TradingLimits/model.ts"),R=n("../blockchain-wallet-v4/src/index.ts"),F=n("../blockchain-wallet-v4/src/exchange/currencies/index.ts"),D=n("../blockchain-wallet-v4/src/exchange/utils.ts"),I=n("./src/modals/components/index.tsx");const N=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,a.bindActionCreators)(l.Nw.wx.sendBch,e)}}))((function MaximumAmountLink(e){return r.createElement(x.rU,{size:"12px",weight:400,onClick:e.actions.sendBchFirstStepMaximumAmountClicked,"data-e2e":"bchMaximumAmountLink"},r.createElement(E.Z,{id:"modals.sendbch.maximumamountlink.maximum",defaultMessage:"maximum"}))}));var X;var W,U,H,q,Y,V=y.ZP.div(X||(X=function validationMessages_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n\n  > * {\n    margin: 0 0 0 2px;\n  }\n"]))),J=function InvalidAmountMessage(){return r.createElement(E.Z,{id:"modals.sendbch.amountnotzeromessage",defaultMessage:"Invalid amount"})},G=function MaximumAmountMessage(){return r.createElement(V,null,r.createElement(E.Z,{id:"modals.sendbch.maximumamountmessage",defaultMessage:"Not enough funds. Use"}),r.createElement(N,null))},K=function InsufficientFundsMessage(){return r.createElement(E.Z,{id:"modals.sendbch.insufficientfundsmessage",defaultMessage:"Insufficient funds"})},Q=function getEffectiveBalance(e){return Number(e.effectiveBalance)},$=function insufficientFunds(e,t,n){return Q(n)>0?void 0:r.createElement(K,null)},ee=function invalidAmount(e,t,n){var o=(0,p.Z)("coin",e);return R.ei.convertCoinToCoin({baseToStandard:!1,coin:"BCH",value:o})>0?void 0:r.createElement(J,null)},te=function maximumAmount(e,t,n){var o=(0,p.Z)("coin",e);return R.ei.convertCoinToCoin({baseToStandard:!1,coin:"BCH",value:o})<=Q(n)?void 0:r.createElement(G,null)},ne=function isSendLimitOver(e,t,n){var o,i,c,a=n.from,l=n.sendLimits,s=(0,p.Z)("fiat",e);if(a&&"CUSTODIAL"===a.type&&!(0,O.Z)(l)&&null!=l&&null!==(o=l.current)&&void 0!==o&&null!==(i=o.available)&&void 0!==i&&i.currency){var u=null==l||null===(c=l.current)||void 0===c?void 0:c.available,d=u.currency,m=u.value;return s>Number(m)?r.createElement(I.ty,{amount:(0,D.M)(m),currency:F.Z[d].units[d].symbol}):void 0}};function template_success_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var re=(0,y.ZP)(x.jL)(W||(W=template_success_taggedTemplateLiteral(["\n  margin: -6px 0 12px;\n  padding: 8px;\n"]))),oe=(0,y.ZP)(Z.cw)(U||(U=template_success_taggedTemplateLiteral(["\n  margin-top: 16px;\n"]))),ie=y.ZP.div(H||(H=template_success_taggedTemplateLiteral(["\n  width: 66%;\n  display: inline-block;\n  float: right;\n"]))),ce=(0,y.ZP)(P.Z)(q||(q=template_success_taggedTemplateLiteral(["\n  & > input {\n    padding-right: 84px;\n  }\n"]))),ae=y.ZP.div(Y||(Y=template_success_taggedTemplateLiteral(["\n  position: absolute;\n  margin-top: -35px;\n  right: 10px;\n"]))),le=function FirstStep(e){e.amount;var t,n,o=e.excludeHDWallets,i=e.excludeLockbox,c=e.from,a=e.handleBitPayInvoiceExpiration,s=e.handleSubmit,u=e.invalid,d=e.isMnemonicVerified,p=e.payPro,m=e.pristine,f=e.sendLimits,h=e.submitting,y=e.totalFee,g=e.verifyIdentity,b=!!p,S=c&&"LOCKBOX"===c.type,_=c&&"CUSTODIAL"===c.type,v=w().getParser(window.navigator.userAgent).satisfies(l.o4.wx.T1.C),C=S&&!v,R=_&&!d;return r.createElement(Z.l0,{onSubmit:s},r.createElement(Z.cw,{inline:!0,margin:"15px",style:{zIndex:3}},r.createElement(Z.xJ,{width:"40%"},r.createElement(Z.lX,{htmlFor:"coin"},r.createElement(E.Z,{id:"modals.sendBch.firststep.currency",defaultMessage:"Currency"})),r.createElement(P.Z,{name:"coin",component:Z.bX,type:"send",validate:[z.C1]})),r.createElement(Z.xJ,{width:"60%"},r.createElement(Z.lX,{htmlFor:"from"},r.createElement(E.Z,{id:"copy.from",defaultMessage:"From"})),r.createElement(P.Z,{name:"from",coin:"BCH",includeAll:!1,validate:[z.C1],component:Z.k2,excludeHDWallets:o,excludeLockbox:i,includeCustodial:!0}))),S&&!C&&r.createElement(re,{type:"info"},r.createElement(x.xv,{color:"warning",size:"13px"},r.createElement(E.Z,{id:"modals.sendbch.firststep.lockboxwarn",defaultMessage:"You will need to connect your Lockbox to complete this transaction."}))),C&&r.createElement(re,{type:"warning"},r.createElement(x.xv,{color:"warning",size:"12px"},r.createElement(E.Z,{id:"modals.sendbch.firststep.blockbrowser",defaultMessage:"Sending Bitcoin Cash from Lockbox can only be done while using the Brave, Chrome, Firefox or Opera browsers."}))),r.createElement(Z.cw,null,r.createElement(k.ky,{coin:"BCH",account:c})),r.createElement(Z.cw,{margin:"15px"},r.createElement(Z.xJ,null,r.createElement(Z.lX,{htmlFor:"to"},r.createElement(E.Z,{id:"modals.sendBch.firststep.towallet",defaultMessage:"To"}),b&&r.createElement(ie,null,r.createElement(Z.Fj,{expiryDate:p.expiration,handleExpiry:a,hideTooltip:!0,payProInvoice:!0}))),r.createElement(k.X2,null,b?r.createElement(P.Z,{name:"to",component:Z.zC,input:{value:"web+bitcoincash:?r=".concat(p.paymentUrl)},disabled:!0}):r.createElement(r.Fragment,null,r.createElement(P.Z,{component:Z.k2,dataE2e:"sendBchAddressInput",exclude:c?[c.label]:[],includeAll:!1,includeExchangeAddress:!0,isCreatable:!0,isValidNewOption:function isValidNewOption(){return!1},includeCustodial:!_,forceCustodialFirst:!0,name:"to",noOptionsMessage:function noOptionsMessage(){return null},openMenuOnClick:!!_,placeholder:"Paste, scan, or select destination",validate:_?[z.C1]:[z.C1,z.TW]}),r.createElement(T.Z,{scanType:"bchAddress",border:["top","bottom","right","left"]}))))),r.createElement(L.Z,{form:l.o4.wx.Xt.Y}),r.createElement(Z.cw,{margin:"15px"},r.createElement(Z.xJ,null,r.createElement(Z.lX,{htmlFor:"amount"},r.createElement(E.Z,{id:"copy.amount",defaultMessage:"Amount"})),r.createElement(P.Z,{name:"amount",component:Z.g8,validate:[z.C1,ee,$,te,ne],coin:"BCH",marginTop:"8px","data-e2e":"sendBch",disabled:b}))),r.createElement(Z.cw,{margin:"15px"},r.createElement(Z.xJ,null,r.createElement(Z.lX,null,r.createElement(E.Z,{id:"modals.sendBch.firststep.desc",defaultMessage:"Description"}),r.createElement(x.G0,{id:"sendBch.firststep.share_tooltip"},r.createElement(x.nw,{name:"info",size:"12px"}))),b?r.createElement(r.Fragment,null,r.createElement(ce,{name:"description",component:Z.zC,placeholder:"What's this transaction for? (optional)",rows:3,"data-e2e":"sendBtcDescription",maxLength:100}),r.createElement(ae,null,r.createElement(x.Ee,{name:"bitpay-logo",height:"24px"}))):r.createElement(P.Z,{name:"description",component:Z.or,placeholder:"What's this transaction for? (optional)","data-e2e":"sendBchDescription",disabled:_,rows:3,fullwidth:!0,maxLength:100}))),r.createElement(Z.cw,{inline:!0,margin:b?"10px":"30px"},r.createElement(Z.xJ,null,r.createElement(Z.lX,null,r.createElement(E.Z,{id:"modals.sendBch.firststep.networkfee",defaultMessage:"Network Fee"})),r.createElement(B.Z,{size:"13px",coin:"BCH",weight:500},y))),b&&u&&r.createElement(x.xv,{size:"13px",color:"error",weight:500,style:{textAlign:"center"}},r.createElement(E.Z,{id:"modals.sendBch.firststep.bitpay.insufficientfunds",defaultMessage:"Insufficient funds to complete BitPay transaction"})),_&&!d?r.createElement(A.Z,null):null,_&&!(0,O.Z)(f)&&(null==f||null===(t=f.globalLimit)||void 0===t||null===(n=t.suggestedUpgrade)||void 0===n?void 0:n.requiredTier)===M.iY.GOLD?r.createElement(j.Z,{limits:f,verifyIdentity:g}):null,r.createElement(oe,null,r.createElement(x.zx,{type:"submit",nature:"primary",height:"56px",size:"18px",disabled:h||u||C||R||!b&&m,"data-e2e":"bchSendContinue"},r.createElement(E.Z,{id:"buttons.continue",defaultMessage:"Continue"}))))};le.propTypes={handleSubmit:c().func.isRequired,invalid:c().bool.isRequired,submitting:c().bool.isRequired,totalFee:c().string.isRequired};const se=(0,C.Z)({destroyOnUnmount:!1,form:l.o4.wx.Xt.Y,shouldError:function shouldError(e){var t=e.initialRender,n=e.nextProps,r=e.props,o=e.structure,i=e.values;return!!t||(t||!o.deepEqual(i,n.values)||r.effectiveBalance!==n.effectiveBalance)}})(le);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var ue=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(FirstStep,e);var t=_createSuper(FirstStep);function FirstStep(){return _classCallCheck(this,FirstStep),t.apply(this,arguments)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FirstStep,[{key:"render",value:function render(){var e=this.props,t=e.actions,n=e.data,o=e.excludeHDWallets,i=e.payPro;return n.cata({Failure:function Failure(e){return r.createElement(template_error,null,e)},Loading:function Loading(){return r.createElement(template_loading,null)},NotAsked:function NotAsked(){return r.createElement(template_loading,null)},Success:function Success(e){return r.createElement(se,_extends({},e,{excludeHDWallets:o,handleBitPayInvoiceExpiration:t.sendBchBitPayInvoiceExpired,onSubmit:t.sendBchFirstStepSubmitClicked,payPro:i}))}})}}]),FirstStep}(r.Component);const de=(0,o.connect)((function mapStateToProps(e){return{data:f(e)}}),(function mapDispatchToProps(e){return{actions:(0,a.bindActionCreators)(l.Nw.wx.sendBch,e),formActions:(0,a.bindActionCreators)(l.Nw.cr,e),verifyIdentity:function verifyIdentity(){return e(l.Nw.wx.identityVerification.verifyIdentity({needMoreInfo:!1,origin:"Send",tier:2}))}}}))(ue);var pe,me=n("../../node_modules/ramda/es/curry.js"),fe=n("../blockchain-wallet-v4/src/redux/payment/btc/utils.ts"),he=l.wl.cr.isSubmitting(l.o4.wx.Xt.Y),ye=(0,me.Z)((function(e){var t=e.to[0];return t.type===fe._t.ADDRESS&&!R.P6.bch.isCashAddr(t.address)})),xe=(0,me.Z)((function(e,t){var n=e.to[0];switch(n.type){case fe._t.ACCOUNT:return l.wl.vE.Nu.iY.getAccountLabel(t)(n.accountIndex).getOrElse(n.address);case fe._t.LOCKBOX:return l.wl.vE.Nu.T1.getLockboxBchAccount(t,n.xpub).map((0,p.Z)("label")).getOrElse(n.address);default:return n.address}})),ge=(0,me.Z)((function(e,t){switch(e.fromType){case fe._t.ACCOUNT:return l.wl.vE.Nu.iY.getAccountLabel(t)(e.fromAccountIdx).getOrElse(e.from[0]);case fe._t.CUSTODIAL:return e.from;case fe._t.LEGACY:return"allImportedAddresses"===l.wl.cr.getFormValues(l.o4.wx.Xt.Y)(t).from?"All Imported Bitcoin Cash Addresses":R.P6.bch.toCashAddr(e.from[0],!0);case fe._t.WATCH_ONLY:case fe._t.EXTERNAL:return R.P6.bch.toCashAddr(e.from[0],!0);case fe._t.LOCKBOX:return l.wl.vE.Nu.T1.getLockboxBchAccount(t,e.from[0]).map((0,p.Z)("label")).getOrElse(e.from[0]);default:return e.from[0]}})),be=function getData(e){return l.wl.wx.Xt.getPayment(e).map((function transform(t){var n=ge(t,e),r=xe(t,e),o=ye(t,e);return{amount:t.amount[0],description:t.description,fee:t.selection?t.selection.fee:0,fromAddress:n,isLegacy:o,submitting:he(e),toAddress:r,total:t.selection?t.selection.fee+t.amount[0]:t.amount[0]}}))};var Se=y.ZP.div(pe||(pe=function template_error_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  box-sizing: border-box;\n"])));const SecondStep_template_error=function(e){return r.createElement(Se,null,r.createElement(x.xv,{size:"12px",weight:400,color:"red600"},e.children))};var _e;var Ee=y.ZP.div(_e||(_e=function SecondStep_template_loading_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  width: 100%;\n  height: 470px;\n  box-sizing: border-box;\n"])));const SecondStep_template_loading=function(e){return r.createElement(Ee,null,r.createElement(x.co,{height:"20px",width:"30%"}),r.createElement(x.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(x.co,{height:"20px",width:"30%",style:{"margin-top":"30px"}}),r.createElement(x.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(x.co,{height:"20px",width:"30%",style:{"margin-top":"15px"}}),r.createElement(x.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(x.co,{height:"80px",width:"100%",style:{"margin-top":"40px"}}))};var ve,we,Oe,Pe,Ce,Be,je=n("./src/components/Display/CoinDisplay/index.tsx"),Ze=n("./src/components/Display/FiatDisplay/index.tsx"),Te=n("./src/components/Exchange/index.tsx");function SecondStep_template_success_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ke=(0,y.ZP)(Te.im)(ve||(ve=SecondStep_template_success_taggedTemplateLiteral(["\n  padding: 0px;\n"]))),Ae=y.ZP.div(we||(we=SecondStep_template_success_taggedTemplateLiteral(["\n  margin-top: 16px;\n"]))),Le=(0,y.ZP)(Te.bp)(Oe||(Oe=SecondStep_template_success_taggedTemplateLiteral(["\n  justify-content: flex-end;\n"]))),ze=(0,y.ZP)(Te.lb)(Pe||(Pe=SecondStep_template_success_taggedTemplateLiteral(["\n  justify-content: flex-end;\n"]))),Me=(0,y.ZP)(x.xv)(Ce||(Ce=SecondStep_template_success_taggedTemplateLiteral(["\n  max-width: 60%;\n  text-align: right;\n  word-break: break-all;\n"]))),Re=y.ZP.div(Be||(Be=SecondStep_template_success_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 16px;\n  width: 100%;\n\n  & > :first-child {\n    margin-bottom: 15px;\n  }\n"])));const Fe=function Success(e){var t=e.amount,n=e.coin,o=e.description,i=e.fee,c=e.fromAddress,a=e.handleBack,l=e.handleBitPayInvoiceExpiration,s=e.handleSubmit,u=e.isLegacy,d=e.payPro,p=e.submitting,m=e.toAddress,f=e.total;return r.createElement(r.Fragment,null,d&&r.createElement(Z.Fj,{expiryDate:d.expiration,handleExpiry:l,hideTooltip:!0,payProInvoice:!0}),r.createElement(ke,null,r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:500},r.createElement(E.Z,{id:"copy.from",defaultMessage:"From"}),":"),r.createElement(x.xv,{size:"16px",weight:400,"data-e2e":"bchFromWallet"},c)),r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:500},r.createElement(E.Z,{id:"modals.sendbch.secondstep.to",defaultMessage:"To:"})),r.createElement(Me,{size:"16px",weight:400,"data-e2e":"bchToAddress"},d?"BitPay[".concat(d.merchant,"]"):m)),o&&r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:500},r.createElement(E.Z,{id:"modals.sendbch.secondstep.note",defaultMessage:"Note:"})),r.createElement(x.xv,{size:"16px",weight:400,"data-e2e":"bchSendDescription"},o)),r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:500},r.createElement(E.Z,{id:"copy.amount",defaultMessage:"Amount"}),":"),r.createElement(Te.UO,null,r.createElement(Le,null,r.createElement(Ze.Z,{size:"16px",weight:500,coin:n},t)),r.createElement(ze,null,r.createElement(je.Z,{size:"14px",weight:300,coin:n},t)))),r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:500},r.createElement(E.Z,{id:"modals.sendbch.secondstep.fee",defaultMessage:"Fee:"})),r.createElement(Te.UO,null,r.createElement(Le,null,r.createElement(Ze.Z,{size:"16px",weight:500,coin:n},i)),r.createElement(ze,null,r.createElement(je.Z,{size:"14px",weight:300,coin:n},i)))),r.createElement(Te.xy,null,r.createElement(x.xv,{size:"16px",weight:400},r.createElement(E.Z,{id:"modals.sendbch.secondstep.sendtotal",defaultMessage:"Total:"})),r.createElement(Te.UO,null,r.createElement(Le,{"data-e2e":"".concat(n,"SendTotal")},r.createElement(Ze.Z,{coin:n,size:"16px",weight:500},f)),r.createElement(ze,{"data-e2e":"".concat(n,"SendSubTotal")},r.createElement(je.Z,{coin:n,size:"14px",weight:300},f))))),u&&r.createElement(Ae,null,r.createElement(x.jL,{type:"caution"},r.createElement(x.xv,{size:"12px"},r.createElement(E.Z,{id:"modals.sendbch.secondstep.bchaddrwarning",defaultMessage:"Are you sure this is a Bitcoin Cash address? Sending funds to a Bitcoin address by accident will result in loss of funds."})))),r.createElement(Re,null,r.createElement(x.zx,{height:"56px",size:"18px",onClick:s,disabled:p,nature:"primary",fullwidth:!0,"data-e2e":"bchSendSubmitButton"},p?r.createElement(x.JA,{height:"20px",width:"20px",color:"white"}):r.createElement(E.Z,{id:"modals.sendbch.secondstep.send",defaultMessage:"Send Bitcoin Cash"})),r.createElement(x.rU,{onClick:!p&&a,disabled:p,size:"13px",weight:400,"data-e2e":"bchSendBackLink"},r.createElement(E.Z,{id:"buttons.go_back",defaultMessage:"Go Back"}))))};function SecondStep_typeof(e){return SecondStep_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SecondStep_typeof(e)}function SecondStep_extends(){return SecondStep_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SecondStep_extends.apply(this,arguments)}function SecondStep_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SecondStep_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SecondStep_setPrototypeOf(e,t){return SecondStep_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},SecondStep_setPrototypeOf(e,t)}function SecondStep_createSuper(e){var t=function SecondStep_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=SecondStep_getPrototypeOf(e);if(t){var o=SecondStep_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SecondStep_possibleConstructorReturn(this,n)}}function SecondStep_possibleConstructorReturn(e,t){if(t&&("object"===SecondStep_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SecondStep_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SecondStep_getPrototypeOf(e){return SecondStep_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SecondStep_getPrototypeOf(e)}var De=function(e){!function SecondStep_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SecondStep_setPrototypeOf(e,t)}(SecondStepContainer,e);var t=SecondStep_createSuper(SecondStepContainer);function SecondStepContainer(){return SecondStep_classCallCheck(this,SecondStepContainer),t.apply(this,arguments)}return function SecondStep_createClass(e,t,n){return t&&SecondStep_defineProperties(e.prototype,t),n&&SecondStep_defineProperties(e,n),e}(SecondStepContainer,[{key:"render",value:function render(){var e=this.props,t=e.actions;return e.data.cata({Failure:function Failure(e){return r.createElement(SecondStep_template_error,null,e)},Loading:function Loading(){return r.createElement(SecondStep_template_loading,null)},NotAsked:function NotAsked(){return r.createElement(SecondStep_template_loading,null)},Success:function Success(e){return r.createElement(Fe,SecondStep_extends({},e,{coin:"BCH",handleSubmit:t.sendBchSecondStepSubmitClicked,handleBack:t.sendBchSecondStepCancelClicked,handleBitPayInvoiceExpiration:t.sendBchBitPayInvoiceExpired}))}})}}]),SecondStepContainer}(r.PureComponent);const Ie=(0,o.connect)((function mapStateToProps(e){return{data:be(e)}}),(function mapDispatchToProps(e){return{actions:(0,a.bindActionCreators)(l.Nw.wx.sendBch,e)}}))(De);var Ne,Xe=n("./src/components/Announcements/index.js");var We=(0,y.ZP)(x.xB)(Ne||(Ne=function template_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-bottom: 0;\n  padding-bottom: 8px;\n  > div:first-child * {\n    color: ",";\n  }\n"])),(function(e){return e.theme.blue900})),Ue=function SendBch(e){return r.createElement(x.u_,{size:"medium",position:e.position,total:e.total},r.createElement(We,{icon:"send",onClose:e.closeAll},r.createElement(E.Z,{id:"modals.sendbch.title",defaultMessage:"Send Bitcoin Cash"})),r.createElement(Xe.Z,{type:"service",alertArea:"send",currentCoin:"BCH"}),r.createElement(x.fe,null,e.children))};Ue.propTypes={closeAll:c().func.isRequired,position:c().number.isRequired,total:c().number.isRequired};const He=Ue;function SendBch_typeof(e){return SendBch_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SendBch_typeof(e)}function SendBch_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SendBch_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SendBch_setPrototypeOf(e,t){return SendBch_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},SendBch_setPrototypeOf(e,t)}function SendBch_createSuper(e){var t=function SendBch_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=SendBch_getPrototypeOf(e);if(t){var o=SendBch_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SendBch_possibleConstructorReturn(this,n)}}function SendBch_possibleConstructorReturn(e,t){if(t&&("object"===SendBch_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SendBch_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SendBch_getPrototypeOf(e){return SendBch_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SendBch_getPrototypeOf(e)}var qe=function(e){!function SendBch_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SendBch_setPrototypeOf(e,t)}(SendBchContainer,e);var t=SendBch_createSuper(SendBchContainer);function SendBchContainer(){return SendBch_classCallCheck(this,SendBchContainer),t.apply(this,arguments)}return function SendBch_createClass(e,t,n){return t&&SendBch_defineProperties(e.prototype,t),n&&SendBch_defineProperties(e,n),e}(SendBchContainer,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.actions,n=e.amount,r=e.description,o=e.from,i=e.payPro,c=e.to;t.initialized({amount:n,description:r,from:o,payPro:i,to:c})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.actions.destroyed()}},{key:"render",value:function render(){var e=this.props,t=e.amount,n=e.closeAll,o=e.description,i=e.excludeHDWallets,c=e.payPro,a=e.position,l=e.step,s=e.to,u=e.total;return r.createElement(He,{position:a,total:u,closeAll:n},1===l&&r.createElement(de,{amount:t,description:o,excludeHDWallets:i,payPro:c,to:s}),2===l&&r.createElement(Ie,{payPro:c}))}}]),SendBchContainer}(r.PureComponent);qe.propTypes={closeAll:c().func.isRequired,position:c().number.isRequired,step:c().number.isRequired,total:c().number.isRequired};const Ye=(0,a.compose)((0,s.Z)("SEND_BCH_MODAL"),(0,o.connect)((function mapStateToProps(e){return{step:l.wl.wx.Xt.getStep(e)}}),(function mapDispatchToProps(e){return{actions:(0,a.bindActionCreators)(l.Nw.wx.sendBch,e)}})))(qe)}}]);