"use strict";(self.webpackChunkblockchain_wallet_v4_frontend=self.webpackChunkblockchain_wallet_v4_frontend||[]).push([[9820],{"./src/modals/Eth/SendEth/index.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>mt});var r=n("../../node_modules/react/index.js"),o=n("../../node_modules/react-redux/es/index.js"),i=n("../../node_modules/prop-types/index.js"),a=n.n(i),c=n("../../node_modules/ramda/es/propOr.js"),s=n("../../node_modules/redux/es/redux.js"),l=n("./src/data/index.ts"),u=n("./src/providers/ModalEnhancer/index.tsx"),d=n("./node_modules/react-intl/lib/src/components/message.js"),m=n("../../node_modules/ramda/es/head.js"),p=n("../../node_modules/ramda/es/isEmpty.js"),f=n("../../node_modules/ramda/es/gt.js"),h=n("../../node_modules/ramda/es/prop.js"),g=n("../../node_modules/ramda/es/path.js"),E=n("../blockchain-wallet-v4/src/index.ts");const y=(0,n("../blockchain-wallet-v4/src/utils/index.ts").createDeepEqualSelector)([l.wl.vE.gU.isMnemonicVerified,l.wl.wx.Em.getPayment,l.wl.wx.Em.getIsContract,l.wl.wx.Em.getFeeToggled,l.wl.wx.Em.getSendLimits,function(e,t){return window.coins[t].coinfig.type.erc20Address?l.wl.vE.aT.eth.getErc20CurrentBalance(e,t):l.wl.vE.aT.eth.getCurrentBalance(e)},function(e){return l.wl.vE.y0.eth.getErc20AccountBalances(e,"PAX").map(m.Z)},l.wl.vE.Nu.T1.getDevices,l.wl.cr.getFormValues(l.o4.wx.Em.Y)],(function(e,t,n,o,i,a,s,l,u){var m=!(0,p.Z)(l.getOrElse([])),y=(0,f.Z)((0,h.Z)("balance",s.getOrElse(0)),0),x=i.getOrElse({});return t.map((function transform(t){var i=(0,h.Z)("amount",t),s=(0,c.Z)("0","effectiveBalance",t),l=(0,h.Z)("unconfirmedTx",t),p=(0,c.Z)("0","fee",t),f=(0,h.Z)("from",u),b=(0,g.Z)(["fees","regular"],t),v=(0,g.Z)(["fees","priority"],t),S=(0,g.Z)(["fees","limits","min"],t),w=(0,g.Z)(["fees","limits","max"],t),_=(0,g.Z)(["isSufficientEthForErc20"],t),C=(0,g.Z)(["isRetryAttempt"],t),O=(0,g.Z)(["minFeeRequiredForRetry"],t),T=E.Nt.Success.is(n),P=[{group:"",items:[{text:r.createElement(d.Z,{id:"modals.sendeth.firststep.fee.regular",defaultMessage:"Regular"}),value:b},{text:r.createElement(d.Z,{id:"modals.sendeth.firststep.fee.priority",defaultMessage:"Priority"}),value:v}]}];return{amount:i,balanceStatus:a,effectiveBalance:s,enableToggle:m,excludeLockbox:!0,fee:p,feeElements:P,feeToggled:o,from:f,hasErc20Balance:y,isContractChecked:T,isMnemonicVerified:e,isRetryAttempt:C,isSufficientEthForErc20:_,maxFee:w,minFee:S,minFeeRequiredForRetry:O,priorityFee:v,regularFee:b,sendLimits:x,unconfirmedTx:l}}))}));var x,b=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),v=n("../blockchain-info-components/src/index.js");var S=b.ZP.div(x||(x=function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  box-sizing: border-box;\n"])));const template_error=function(e){return r.createElement(S,null,r.createElement(v.xv,{size:"12px",weight:400,color:"red600"},e.children))};var w,_=n("./src/services/styles/index.ts");var C=b.ZP.div(w||(w=function template_loading_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  width: 100%;\n  height: 460px;\n  box-sizing: border-box;\n"])));const template_loading=function(e){return r.createElement(C,null,r.createElement(v.co,{height:"20px",width:"30%"}),r.createElement(v.co,{height:"40px",width:"100%",style:(0,_.W0)("mt-15")}),r.createElement(v.co,{height:"20px",width:"30%",style:(0,_.W0)("mt-30")}),r.createElement(v.co,{height:"40px",width:"100%",style:(0,_.W0)("mt-15")}),r.createElement(v.co,{height:"20px",width:"30%",style:(0,_.W0)("mt-15")}),r.createElement(v.co,{height:"40px",width:"100%",style:(0,_.W0)("mt-15")}),r.createElement(v.co,{height:"80px",width:"100%",style:(0,_.W0)("mt-40")}))};var O,T,P,Z,j=n("./node_modules/bignumber.js/bignumber.js"),k=n.n(j),F=n("../../node_modules/bowser/es5.js"),z=n.n(F),L=n("../../node_modules/redux-form/es/Field.js"),M=n("../../node_modules/redux-form/es/reduxForm.js"),R=n("./src/components/Display/ComboDisplay/index.js"),A=n("./src/components/Flyout/Banners/UpgradeToGold.tsx"),D=n("./src/components/Form/index.ts"),N=n("./src/components/QRCode/Capture/index.js"),B=n("./src/components/Send/index.tsx"),U=n("./src/components/Send/RecoveryPhrase/index.tsx"),I=n("./src/components/UnstoppableDomains/index.tsx"),q=n("./src/services/forms/index.js"),H=n("./src/modals/Settings/TradingLimits/model.ts"),W=n("../../node_modules/ramda/es/lt.js"),X=n("../../node_modules/redux-form/es/formValueSelector.js");function Components_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y=b.ZP.div(O||(O=Components_taggedTemplateLiteral(["\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: -6px;\n  margin-bottom: 20px;\n"]))),V=b.ZP.div(T||(T=Components_taggedTemplateLiteral(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  justify-content: flex-start;\n  flex-basis: 75%;\n"]))),G=b.ZP.div(P||(P=Components_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  flex-basis: 25%;\n"]))),J=(0,b.ZP)(v.xv)(Z||(Z=Components_taggedTemplateLiteral(["\n  margin-bottom: 2px;\n"])));const K=(0,o.connect)((function mapStateToProps(e){return{amount:(0,X.Z)(l.o4.wx.Em.Y)(e,"amount"),ethRates:l.wl.vE.aT.coins.getRates("ETH",e).getOrFail()}}),null)((function LowBalanceWarning(e){var t=e.amount,n=e.ethRates,o=e.totalBalance,i=E.ei.convertCoinToFiat({coin:"ETH",currency:"USD",isStandard:!0,rates:n,value:o}),a=E.ei.convertCoinToFiat({coin:"ETH",currency:"USD",rates:n,value:(0,c.Z)(0,"coin",t)});return(0,W.Z)(i-a,1)&&r.createElement(Y,null,r.createElement(V,null,r.createElement(v.xv,{size:"14px",weight:500,color:"orange600","data-e2e":"runningLowMessage"},r.createElement(d.Z,{id:"modals.sendeth.lowbalancewarning.title",defaultMessage:"Running low!"})),r.createElement(v.xv,{size:"13px",weight:400},r.createElement(d.Z,{id:"modals.sendeth.lowethwarningforerc20.explain1",defaultMessage:"You'll need ETH to send your ERC20 Tokens"}),".")),r.createElement(G,null,r.createElement(v.rU,{size:"13px",weight:500,href:"/support/hc/en-us/articles/360027492092-Why-do-I-need-ETH-to-send-USD-Digital-previously-USD-PAX-",target:"_blank"},r.createElement(d.Z,{id:"buttons.learn_more",defaultMessage:"Learn More"}))))}));const Q=function LowEthWarningForErc20(){return r.createElement(Y,null,r.createElement(V,null,r.createElement(J,{size:"14px",weight:500,color:"orange600"},r.createElement(d.Z,{id:"modals.sendeth.lowethwarningforerc20.title1",defaultMessage:"Not Enough ETH in Private Key Wallet"})),r.createElement(v.xv,{size:"13px",weight:400},r.createElement(d.Z,{id:"modals.sendeth.lowethwarningforerc20.explain1",defaultMessage:"You'll need ETH to send your ERC20 Tokens"}))),r.createElement(G,null,r.createElement(v.rU,{size:"13px",weight:500,href:"/support/hc/en-us/articles/360027492092-Why-do-I-need-ETH-to-send-USD-Digital-previously-USD-PAX-",target:"_blank"},r.createElement(d.Z,{id:"buttons.learn_more",defaultMessage:"Learn More"}))))};var $=n("./src/components/Cartridge/index.ts");const FirstStep_MinFeeForRetryInvalid=()=>r.createElement($.XG,null,r.createElement(d.Z,{id:"modals.sendeth.firststep.min_fee_for_retry",defaultMessage:"Please use a higher fee to retry your transaction."}));var ee=function PriorityFeeLink(e){return r.createElement(v.rU,{size:"12px",weight:400,onClick:e.actions.sendEthFirstStepPriorityFeeClicked,"data-e2e":"".concat(e.coin,"PriorityFeeLink")},r.createElement(d.Z,{id:"modals.sendeth.priorityfeelink.priority",defaultMessage:"Priority: {fee}",values:{fee:e.fee}}))};ee.propTypes={fee:a().number.isRequired};const te=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))(ee);var ne=function RegularFeeLink(e){return r.createElement(v.rU,{size:"12px",weight:400,onClick:e.actions.sendEthFirstStepRegularFeeClicked,"data-e2e":"".concat(e.coin,"RegularFeeLink")},r.createElement(d.Z,{id:"modals.sendeth.regularfeelink.regular",defaultMessage:"Reg: {fee}, ",values:{fee:e.fee}}))};ne.propTypes={fee:a().number.isRequired};const re=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))(ne);var oe=n("../blockchain-wallet-v4/src/exchange/currencies/index.ts"),ie=n("../blockchain-wallet-v4/src/exchange/utils.ts"),ae=n("./src/modals/components/index.tsx");const ce=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))((function MaximumAmountLink(e){return r.createElement(v.rU,{size:"12px",weight:400,onClick:function onClick(){return e.actions.sendEthFirstStepMaximumAmountClicked(e.coin)},"data-e2e":"".concat(e.coin,"MaximumAmountLink")},r.createElement(d.Z,{id:"modals.sendeth.maximumamountlink.maximum",defaultMessage:"maximum"}))}));const se=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))((function MaximumFeeLink(e){return r.createElement(v.rU,{size:"12px",weight:400,onClick:e.actions.sendEthFirstStepMaximumFeeClicked,"data-e2e":"".concat(e.coin,"MaximumFeeLink")},r.createElement(d.Z,{id:"modals.sendeth.maximumfeelink.userecupperlimit",defaultMessage:"Use our recommended upper limit."}))}));const le=(0,o.connect)(void 0,(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))((function MinimumFeeLink(e){return r.createElement(v.rU,{size:"12px",weight:400,onClick:e.actions.sendEthFirstStepMinimumFeeClicked,"data-e2e":"".concat(e.coin,"MinimumFeeLink")},r.createElement(d.Z,{id:"modals.sendeth.minimumfeelink.minimum",defaultMessage:"minimum"}))}));var ue;var de,me,pe,fe=b.ZP.div(ue||(ue=function validationMessages_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n\n  > * {\n    margin: 0 0 0 2px;\n  }\n"]))),he=function InvalidAmountMessage(){return r.createElement(d.Z,{id:"modals.sendeth.amountnotzeromessage",defaultMessage:"Invalid amount"})},ge=function MaximumAmountMessage(e){return r.createElement(fe,null,r.createElement(d.Z,{id:"modals.sendeth.maximumamountmessage",defaultMessage:"Not enough funds. Use"}),r.createElement(ce,{coin:e.coin}))},Ee=function InsufficientFundsMessage(){return r.createElement(d.Z,{id:"modals.sendeth.insufficientfundsmessage",defaultMessage:"Insufficient funds"})},ye=function MaximumFeeMessage(e){return r.createElement(fe,null,r.createElement(d.Z,{id:"modals.sendeth.maximumfeemessage",defaultMessage:"Unnecessarily high fee."}),r.createElement("span",null," "),r.createElement(se,{coin:e.coin}))},xe=function MinimumFeeMessage(e){return r.createElement(fe,null,r.createElement(d.Z,{id:"modals.sendeth.minimumfeemessage",defaultMessage:"Low fee not recommended. Use"}),r.createElement(le,{coin:e.coin}))},be=function insufficientFunds(e,t,n){return n.effectiveBalance>0?void 0:r.createElement(Ee,null)},ve=function invalidAmount(e,t,n){var o=(0,h.Z)("coin",e);return E.ei.convertCoinToCoin({baseToStandard:!1,coin:"ETH",value:o})>0?void 0:r.createElement(he,null)},Se=function maximumAmount(e,t,n){try{var o=(0,h.Z)("coin",e),i=(0,h.Z)("coin",n),a=(0,h.Z)("effectiveBalance",n),c=E.ei.convertCoinToCoin({coin:i,value:a});return new(k())(o).isLessThanOrEqualTo(new(k())(c||0))?void 0:r.createElement(ge,{coin:n.coin})}catch(e){}},we=function minimumFee(e,t,n){return e&&parseInt(e)>=n.minFee?void 0:r.createElement(xe,{coin:n.coin})},_e=function maximumFee(e,t,n){return e&&parseInt(e)<=n.maxFee?void 0:r.createElement(ye,{coin:n.coin})},Ce=function isSendLimitOver(e,t,n){var o,i,a,c=n.from,s=n.sendLimits,l=(0,h.Z)("fiat",e);if(c&&"CUSTODIAL"===c.type&&!(0,p.Z)(s)&&null!=s&&null!==(o=s.current)&&void 0!==o&&null!==(i=o.available)&&void 0!==i&&i.currency){var u=null==s||null===(a=s.current)||void 0===a?void 0:a.available,d=u.currency,m=u.value;return l>Number(m)?r.createElement(ae.ty,{amount:(0,ie.M)(m),currency:oe.Z[d].units[d].symbol}):void 0}};function template_success_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oe=(0,b.ZP)(v.jL)(de||(de=template_success_taggedTemplateLiteral(["\n  margin: -6px 0 12px;\n  padding: 8px;\n"]))),Te=(0,b.ZP)(D.cw)(me||(me=template_success_taggedTemplateLiteral(["\n  margin-top: 16px;\n"]))),Pe=(0,b.ZP)(B.X2)(pe||(pe=template_success_taggedTemplateLiteral(["\n  .bc__control input {\n    max-width: 350px;\n  }\n"]))),Ze=function FirstStep(e){var t,n,o=e.amount,i=e.balanceStatus,a=e.coin,c=e.excludeLockbox,s=e.fee,u=e.feeElements,m=e.feeToggled,f=e.from,h=e.handleFeeToggle,g=e.handleSubmit,y=e.hasErc20Balance,x=e.invalid,b=e.isContractChecked,S=e.isMnemonicVerified,w=e.isRetryAttempt,_=e.isSufficientEthForErc20,C=e.minFeeRequiredForRetry,O=e.priorityFee,T=e.pristine,P=e.regularFee,Z=e.sendLimits,j=e.submitting,F=e.unconfirmedTx,M=e.verifyIdentity,W=f&&"LOCKBOX"===f.type,X=f&&"CUSTODIAL"===f.type,Y=z().getParser(window.navigator.userAgent).satisfies(l.o4.wx.T1.C),V=W&&!Y,G="ETH"!==a&&!_&&!X,J=w&&new(k())(s).isLessThanOrEqualTo(C),$=X&&!S;return r.createElement(D.l0,{onSubmit:g},r.createElement(D.cw,{inline:!0,margin:"15px",style:{zIndex:3}},r.createElement(D.xJ,{width:"40%"},r.createElement(D.lX,{HtmlFor:"coin"},r.createElement(d.Z,{id:"modals.sendether.firststep.currency",defaultMessage:"Currency"})),r.createElement(L.Z,{name:"coin",component:D.bX,type:"send",validate:[q.C1]})),r.createElement(D.xJ,{width:"60%"},r.createElement(D.lX,{HtmlFor:"from"},r.createElement(d.Z,{id:"copy.from",defaultMessage:"From"})),r.createElement(L.Z,{name:"from",component:D.Cr,disabled:w,includeAll:!1,validate:[q.C1],excludeLockbox:c,includeCustodial:!0,coin:a}))),W&&!V&&r.createElement(Oe,{type:"info"},r.createElement(v.xv,{color:"warning",size:"13px"},r.createElement(d.Z,{id:"modals.sendeth.firststep.lockboxwarn",defaultMessage:"You will need to connect your Lockbox to complete this transaction."}))),V&&r.createElement(Oe,{type:"warning"},r.createElement(v.xv,{color:"warning",size:"12px"},r.createElement(d.Z,{id:"modals.sendeth.firststep.browserwarn",defaultMessage:"Sending Ether from Lockbox can only be done while using the Brave, Chrome, Firefox or Opera browsers."}))),r.createElement(D.cw,null,r.createElement(B.ky,{coin:a,account:f})),r.createElement(D.cw,{margin:"8px"},r.createElement(D.xJ,null,r.createElement(D.lX,{HtmlFor:"to"},r.createElement(d.Z,{id:"modals.sendeth.firststep.tocoin",defaultMessage:"To"})),r.createElement(Pe,null,r.createElement(L.Z,{coin:a,component:D.Cr,dataE2e:"sendEthAddressInput",disabled:w,exclude:f?[f.label]:[],includeAll:!1,includeExchangeAddress:!0,isCreatable:!0,isValidNewOption:function isValidNewOption(){return!1},includeCustodial:!X,forceCustodialFirst:!0,name:"to",noOptionsMessage:function noOptionsMessage(){return null},placeholder:"Paste, scan, or select destination",validate:[q.C1,q.zh]}),w?null:r.createElement(N.Z,{scanType:"ethAddress",border:["top","bottom","right","left"]})),F&&!w&&r.createElement(v.xv,{color:"error",size:"12px",weight:400},r.createElement(d.Z,{id:"modals.sendeth.unconfirmedtransactionmessage",defaultMessage:"Please wait until your previous transaction confirms."})))),r.createElement(I.Z,{form:l.o4.wx.Em.Y}),r.createElement(D.cw,{margin:"15px"},r.createElement(D.xJ,null,r.createElement(D.lX,{HtmlFor:"amount"},r.createElement(d.Z,{id:"copy.amount",defaultMessage:"Amount"})),r.createElement(L.Z,{name:"amount",disabled:F,component:D.g8,coin:a,validate:[q.C1,ve,be,Se,Ce],"data-e2e":"".concat(a,"Send"),marginTop:"8px"}))),y&&"ETH"===a&&!X&&r.createElement(K,{effectiveBalance:e.effectiveBalance,totalBalance:e.from.balance}),r.createElement(D.cw,{margin:"15px"},r.createElement(D.xJ,null,r.createElement(D.lX,{HtmlFor:"description"},r.createElement(d.Z,{id:"modals.sendeth.firststep.desc",defaultMessage:"Description"}),r.createElement(v.G0,{id:"sendeth.firststep.description"},r.createElement(v.nw,{name:"info",size:"12px"}))),r.createElement(L.Z,{name:"description",disabled:X,component:D.or,placeholder:"What's this transaction for? (optional)","data-e2e":"".concat(a,"SendDescription"),fullwidth:!0,maxLength:100}))),X?r.createElement(B.K2,{margin:"10px"},r.createElement(D.lX,null,r.createElement(d.Z,{id:"modals.sendeth.firststep.networkfee",defaultMessage:"Network Fee"})),r.createElement(R.Z,{size:"13px",weight:600,coin:a},s)):r.createElement(B.K2,{inline:!0,margin:"10px"},r.createElement(B.Ig,null,r.createElement(B.cY,{toggled:m},r.createElement(B.T7,null,r.createElement(d.Z,{id:"modals.sendeth.firststep.networkfee",defaultMessage:"Network Fee"}),r.createElement("span",null," "),!m&&r.createElement(L.Z,{name:"fee",component:D.jL,elements:u}),m&&r.createElement(B.ao,null,r.createElement(re,{fee:P,coin:a}),r.createElement("span",null," "),r.createElement(te,{fee:O,coin:a}))),m&&r.createElement(B.Lr,{style:{marginTop:"10px"}},r.createElement(L.Z,{"data-e2e":"".concat(a,"CustomFeeInput"),coin:a,name:"fee",component:D.vb,validate:[q.C1,we],warn:[_e],errorBottom:!0,errorLeft:!0,unit:"Gwei"})))),r.createElement(B.ii,null,r.createElement(R.Z,{size:"13px",weight:500,coin:"ETH"},s),r.createElement(v.rU,{size:"12px",weight:400,capitalize:!0,onClick:h,"data-e2e":"".concat(a,"CustomizeFeeLink")},m?r.createElement(d.Z,{id:"buttons.cancel",defaultMessage:"Cancel"}):r.createElement(d.Z,{id:"modals.sendeth.firststep.customizefee",defaultMessage:"Customize Fee"})))),m?r.createElement(B.EY,{type:"alert"},r.createElement(v.xv,{size:"12px"},r.createElement(d.Z,{id:"modals.sendeth.firststep.customfeeinfo",defaultMessage:"This feature is recommended for advanced users only. By choosing a custom fee, you risk overpaying or your transaction never being confirmed."}))):null,J&&r.createElement(FirstStep_MinFeeForRetryInvalid,null),G&&r.createElement(Q,{coin:a}),X&&!S?r.createElement(U.Z,null):null,X&&!(0,p.Z)(Z)&&(null==Z||null===(t=Z.globalLimit)||void 0===t||null===(n=t.suggestedUpgrade)||void 0===n?void 0:n.requiredTier)===H.iY.GOLD?r.createElement(A.Z,{limits:Z,verifyIdentity:M}):null,r.createElement(Te,null,r.createElement(v.zx,{type:"submit",nature:"primary",height:"56px",size:"18px",disabled:T||j||x||!o||!b||G||J||$||E.Nt.Loading.is(i),"data-e2e":"".concat(a,"SendContinue")},r.createElement(d.Z,{id:"buttons.continue",defaultMessage:"Continue"}))))};Ze.propTypes={coin:a().string.isRequired,effectiveBalance:a().string.isRequired,fee:a().string.isRequired,handleSubmit:a().func.isRequired,handleToToggle:a().func.isRequired,hasErc20Balance:a().bool.isRequired,invalid:a().bool.isRequired,submitting:a().bool.isRequired,unconfirmedTx:a().bool};const je=(0,M.Z)({destroyOnUnmount:!1,form:l.o4.wx.Em.Y,shouldError:function shouldError(e){var t=e.initialRender,n=e.nextProps,r=e.props,o=e.structure,i=e.values;return!!t||(t||!o.deepEqual(i,n.values)||r.effectiveBalance!==n.effectiveBalance)},shouldWarn:function shouldWarn(e){var t=e.initialRender,n=e.nextProps,r=e.props,o=e.structure,i=e.values;return!!t||(t||!o.deepEqual(i,n.values)||r.effectiveBalance!==n.effectiveBalance)}})(Ze);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_extends.apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}var ke=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(FirstStep,e);var t=_createSuper(FirstStep);function FirstStep(){return _classCallCheck(this,FirstStep),t.apply(this,arguments)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FirstStep,[{key:"render",value:function render(){var e=this.props,t=e.actions,n=e.coin;return e.data.cata({Failure:function Failure(e){return r.createElement(template_error,null,e)},Loading:function Loading(){return r.createElement(template_loading,null)},NotAsked:function NotAsked(){return r.createElement(template_loading,null)},Success:function Success(e){return r.createElement(je,_extends({},e,{coin:n,handleFeeToggle:t.sendEthFirstStepFeeToggled,onSubmit:t.sendEthFirstStepSubmitClicked}))}})}}]),FirstStep}(r.PureComponent);const Fe=(0,o.connect)((function mapStateToProps(e,t){return{data:y(e,t.coin)}}),(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e),formActions:(0,s.bindActionCreators)(l.Nw.cr,e),verifyIdentity:function verifyIdentity(){return e(l.Nw.wx.identityVerification.verifyIdentity({needMoreInfo:!1,origin:"Send",tier:2}))}}}))(ke);var ze=n("../../node_modules/ramda/es/curry.js"),Le=n("../../node_modules/ramda/es/equals.js"),Me=n("../../node_modules/ramda/es/lift.js"),Re=n("../blockchain-wallet-v4/src/redux/payment/btc/utils.ts");const Ae=l.wl.cr.isSubmitting(l.o4.wx.Em.Y),De=(0,ze.Z)(((e,t)=>{const{from:n}=e;switch(n.type){case Re._t.ACCOUNT:return l.wl.vE.Nu.BF.getAccountLabel(t,n.address).getOrElse(n.address);case Re._t.LOCKBOX:return l.wl.vE.Nu.T1.getLockboxEthAccount(t,n.address).map((0,h.Z)("label")).getOrElse(n.address);default:return n.address}})),Ne=(0,ze.Z)(((e,t)=>{const{from:n}=t,{coinfig:r}=window.coins[e];return n.type===Re._t.ACCOUNT?`${r.displaySymbol} Private Key Wallet`:n.address})),selectors_getData=(e,t)=>{const n=!(0,Le.Z)(t,"ETH"),r=l.wl.wx.Em.getPayment(e),o=l.wl.vE.aT.coins.getRates("ETH",e),i=l.wl.vE.Xd.getCurrency(e),a=l.wl.vE.aT.coins.getRates(t,e).getOrElse({});return(0,Me.Z)(((r,o,i)=>{const c=n?a:o,s=E.ei.convertCoinToCoin({baseToStandard:!0,coin:t,value:r.amount}),l=E.ei.convertCoinToFiat({coin:t,currency:i,isStandard:!0,rates:c,value:s}),u=n&&"CUSTODIAL"===r.from.type,d=E.ei.convertCoinToFiat({coin:u?t:"ETH",currency:i,rates:u?a:o,value:r.fee}),m=(0,ie.LE)({unit:i,value:Number(l)+Number(d)}),p=n?Ne(t,r):De(r,e);return{amount:r.amount,description:r.description,fee:r.fee,fromAddress:p,fromType:r.from.type,submitting:Ae(e),toAddress:r.to.label||r.to.address,totalCrypto:new(k().sum)(r.amount,r.fee).toString(),totalFiat:m}}))(r,o,i)};var Be;var Ue=b.ZP.div(Be||(Be=function template_error_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 5px;\n  box-sizing: border-box;\n"])));const SecondStep_template_error=function(e){return r.createElement(Ue,null,r.createElement(v.xv,{size:"12px",weight:400,color:"red600"},e.children))};var Ie;var qe=b.ZP.div(Ie||(Ie=function SecondStep_template_loading_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  width: 100%;\n  height: 460px;\n  box-sizing: border-box;\n"])));const SecondStep_template_loading=function(e){return r.createElement(qe,null,r.createElement(v.co,{height:"20px",width:"30%"}),r.createElement(v.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(v.co,{height:"20px",width:"30%",style:{"margin-top":"30px"}}),r.createElement(v.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(v.co,{height:"20px",width:"30%",style:{"margin-top":"15px"}}),r.createElement(v.co,{height:"40px",width:"100%",style:{"margin-top":"15px"}}),r.createElement(v.co,{height:"80px",width:"100%",style:{"margin-top":"40px"}}))};var He,We,Xe,Ye,Ve,Ge=n("./src/components/Display/CoinDisplay/index.tsx"),Je=n("./src/components/Display/FiatDisplay/index.tsx"),Ke=n("./src/components/Exchange/index.tsx");function SecondStep_template_success_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Qe=(0,b.ZP)(Ke.im)(He||(He=SecondStep_template_success_taggedTemplateLiteral(["\n  padding: 0px;\n"]))),$e=(0,b.ZP)(Ke.bp)(We||(We=SecondStep_template_success_taggedTemplateLiteral(["\n  justify-content: flex-end;\n"]))),et=(0,b.ZP)(Ke.lb)(Xe||(Xe=SecondStep_template_success_taggedTemplateLiteral(["\n  justify-content: flex-end;\n"]))),tt=(0,b.ZP)(v.xv)(Ye||(Ye=SecondStep_template_success_taggedTemplateLiteral(["\n  max-width: 60%;\n  text-align: right;\n  word-break: break-all;\n"]))),nt=b.ZP.div(Ve||(Ve=SecondStep_template_success_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 16px;\n  width: 100%;\n\n  & > :first-child {\n    margin-bottom: 15px;\n  }\n"])));const rt=function Success(e){var t=e.amount,n=e.coin,o=e.coinDisplayName,i=e.description,a=e.fee,c=e.fromAddress,s=e.fromType,l=e.handleBack,u=e.handleSubmit,m=e.submitting,p=e.toAddress,f=e.totalCrypto,h=e.totalFiat;return r.createElement(r.Fragment,null,r.createElement(Qe,null,r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"copy.from",defaultMessage:"From"}),": "),r.createElement(v.xv,{size:"16px",weight:400,"data-e2e":"".concat(n,"FromWallet")},c)),r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"modals.sendeth.secondstep.to",defaultMessage:"To:"})),r.createElement(tt,{size:"14px",weight:400,"data-e2e":"".concat(n,"ToAddress")},p)),i&&r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"modals.sendeth.secondstep.note",defaultMessage:"Note:"})),r.createElement(v.xv,{size:"16px",weight:400,"data-e2e":"".concat(n,"SendDescription")},i)),r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"modals.sendeth.secondstep.amount",defaultMessage:"Amount:"})),r.createElement(Ke.UO,null,r.createElement($e,null,r.createElement(Je.Z,{size:"16px",weight:500,coin:n},t)),r.createElement(et,null,r.createElement(Ge.Z,{size:"14px",weight:300,coin:n},t)))),r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"modals.sendeth.secondstep.fee",defaultMessage:"Fee:"})),r.createElement(Ke.UO,null,r.createElement($e,null,r.createElement(Je.Z,{size:"16px",weight:500,coin:"CUSTODIAL"===s?n:"ETH"},a)),r.createElement(et,null,r.createElement(Ge.Z,{size:"14px",weight:300,coin:"CUSTODIAL"===s?n:"ETH"},a)))),r.createElement(Ke.xy,null,r.createElement(v.xv,{size:"16px",weight:500},r.createElement(d.Z,{id:"modals.sendeth.secondstep.total",defaultMessage:"Total"})),r.createElement(Ke.UO,null,"ETH"===n?r.createElement(r.Fragment,null,r.createElement($e,{"data-e2e":"".concat(n,"SendTotal")},h),r.createElement(et,null,r.createElement(Ge.Z,{coin:n,size:"14px",weight:300,"data-e2e":"ETHSendTotal"},f))):r.createElement($e,{"data-e2e":"".concat(n,"SendTotal")},"-",h)))),r.createElement(nt,null,r.createElement(v.zx,{height:"56px",size:"18px",onClick:u,disabled:m,nature:"primary",fullwidth:!0,"data-e2e":"".concat(n,"SendSubmitButton")},m?r.createElement(v.JA,{height:"20px",width:"20px",color:"white"}):r.createElement(d.Z,{id:"modals.sendeth.secondstep.sendcoin",defaultMessage:"Send {coinDisplayName}",values:{coinDisplayName:o}})),r.createElement(v.rU,{onClick:!m&&l,disabled:m,size:"13px",weight:400,"data-e2e":"".concat(n,"SendBackLink")},r.createElement(d.Z,{id:"buttons.go_back",defaultMessage:"Go Back"}))))};function SecondStep_typeof(e){return SecondStep_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SecondStep_typeof(e)}function SecondStep_extends(){return SecondStep_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SecondStep_extends.apply(this,arguments)}function SecondStep_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SecondStep_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SecondStep_setPrototypeOf(e,t){return SecondStep_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},SecondStep_setPrototypeOf(e,t)}function SecondStep_createSuper(e){var t=function SecondStep_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=SecondStep_getPrototypeOf(e);if(t){var o=SecondStep_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SecondStep_possibleConstructorReturn(this,n)}}function SecondStep_possibleConstructorReturn(e,t){if(t&&("object"===SecondStep_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SecondStep_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SecondStep_getPrototypeOf(e){return SecondStep_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SecondStep_getPrototypeOf(e)}var ot=function(e){!function SecondStep_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SecondStep_setPrototypeOf(e,t)}(SecondStepContainer,e);var t=SecondStep_createSuper(SecondStepContainer);function SecondStepContainer(){return SecondStep_classCallCheck(this,SecondStepContainer),t.apply(this,arguments)}return function SecondStep_createClass(e,t,n){return t&&SecondStep_defineProperties(e.prototype,t),n&&SecondStep_defineProperties(e,n),e}(SecondStepContainer,[{key:"render",value:function render(){var e=this.props,t=e.actions,n=e.coin,o=e.coinDisplayName;return e.data.cata({Failure:function Failure(e){return r.createElement(SecondStep_template_error,null,e)},Loading:function Loading(){return r.createElement(SecondStep_template_loading,null)},NotAsked:function NotAsked(){return r.createElement(SecondStep_template_loading,null)},Success:function Success(e){return r.createElement(rt,SecondStep_extends({},e,{coin:n,coinDisplayName:o,handleBack:t.sendEthSecondStepCancelClicked,handleSubmit:t.sendEthSecondStepSubmitClicked}))}})}}]),SecondStepContainer}(r.PureComponent);const it=(0,o.connect)((function mapStateToProps(e,t){return{data:selectors_getData(e,t.coin)}}),(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}}))(ot);var at,ct=n("./src/components/Announcements/index.js");var st=(0,b.ZP)(v.xB)(at||(at=function template_taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-bottom: 0;\n  padding-bottom: 8px;\n  > div:first-child * {\n    color: ",";\n  }\n"])),(function(e){return e.theme.blue900})),lt=function SendEth(e){return r.createElement(v.u_,{size:"medium",position:e.position,total:e.total},r.createElement(st,{icon:"send",onClose:e.closeAll},r.createElement(d.Z,{id:"modals.sendeth.cointitle",defaultMessage:"Send {coinDisplayName}",values:{coinDisplayName:e.coinDisplayName}})),r.createElement(ct.Z,{type:"service",alertArea:"send",currentCoin:e.coin}),r.createElement(v.fe,null,e.children))};lt.propTypes={closeAll:a().func.isRequired,coin:a().string.isRequired,coinDisplayName:a().string.isRequired,position:a().number.isRequired,total:a().number.isRequired};const ut=lt;function SendEth_typeof(e){return SendEth_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SendEth_typeof(e)}function SendEth_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SendEth_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SendEth_setPrototypeOf(e,t){return SendEth_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},SendEth_setPrototypeOf(e,t)}function SendEth_createSuper(e){var t=function SendEth_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=SendEth_getPrototypeOf(e);if(t){var o=SendEth_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SendEth_possibleConstructorReturn(this,n)}}function SendEth_possibleConstructorReturn(e,t){if(t&&("object"===SendEth_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function SendEth_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function SendEth_getPrototypeOf(e){return SendEth_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},SendEth_getPrototypeOf(e)}var dt=function(e){!function SendEth_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SendEth_setPrototypeOf(e,t)}(SendEthContainer,e);var t=SendEth_createSuper(SendEthContainer);function SendEthContainer(){return SendEth_classCallCheck(this,SendEthContainer),t.apply(this,arguments)}return function SendEth_createClass(e,t,n){return t&&SendEth_defineProperties(e.prototype,t),n&&SendEth_defineProperties(e,n),e}(SendEthContainer,[{key:"componentDidMount",value:function componentDidMount(){this.props.actions.initialized((0,c.Z)("ETH","coin",this.props))}},{key:"componentDidUpdate",value:function componentDidUpdate(e){e.coin!==this.props.coin&&this.props.actions.initialized((0,c.Z)("ETH","coin",this.props))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.actions.destroyed()}},{key:"render",value:function render(){var e=this.props,t=e.closeAll,n=e.coin,o=e.position,i=e.step,a=e.total,c=window.coins[n].coinfig;return r.createElement(ut,{position:o,total:a,closeAll:t,coinDisplayName:c.name,coin:n},1===i&&r.createElement(Fe,{coin:n}),2===i&&r.createElement(it,{coin:n,coinDisplayName:c.name}))}}]),SendEthContainer}(r.PureComponent);dt.propTypes={closeAll:a().func.isRequired,coin:a().string,position:a().number.isRequired,step:a().number.isRequired,total:a().number.isRequired};const mt=(0,s.compose)((0,u.Z)("SEND_ETH_MODAL"),(0,o.connect)((function mapStateToProps(e){return{step:l.wl.wx.Em.getStep(e)}}),(function mapDispatchToProps(e){return{actions:(0,s.bindActionCreators)(l.Nw.wx.sendEth,e)}})))(dt)}}]);