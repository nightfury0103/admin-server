"use strict";(self.webpackChunkblockchain_wallet_v4_frontend=self.webpackChunkblockchain_wallet_v4_frontend||[]).push([[4539],{"./src/components/QRCode/Capture/index.js":(e,t,r)=>{r.d(t,{Z:()=>j});var n,o,s=r("../../node_modules/react/index.js"),i=r("../../node_modules/react-redux/es/index.js"),a=r("../../node_modules/bip21/index.js"),c=r.n(a),d=r("../../node_modules/prop-types/index.js"),l=r.n(d),p=r("../../node_modules/ramda/es/isNil.js"),u=r("../../node_modules/ramda/es/isEmpty.js"),h=r("../../node_modules/ramda/es/replace.js"),f=r("../../node_modules/ramda/es/toUpper.js"),m=r("../../node_modules/ramda/es/includes.js"),y=r("../../node_modules/ramda/es/prop.js"),g=r("../../node_modules/redux/es/redux.js"),b=r("../blockchain-wallet-v4/src/index.ts"),_=r("./src/data/index.ts"),x=r("./src/services/alerts/index.ts"),E=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),A=r("../blockchain-info-components/src/index.js"),v=r("./src/components/QRCode/Reader/index.tsx");function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=E.ZP.div(n||(n=_taggedTemplateLiteral(["\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  min-width: 48px;\n  width: 48px;\n  height: 48px;\n  cursor: pointer;\n  box-sizing: border-box;\n  border-radius: 8px;\n  border-top: ",";\n  border-right: ",";\n  border-bottom: ",";\n  border-left: ",";\n"])),(function(e){return e.border.indexOf("top")>-1&&"1px solid ".concat(e.theme.grey100)}),(function(e){return e.border.indexOf("right")>-1&&"1px solid ".concat(e.theme.grey100)}),(function(e){return e.border.indexOf("bottom")>-1&&"1px solid ".concat(e.theme.grey100)}),(function(e){return e.border.indexOf("left")>-1&&"1px solid ".concat(e.theme.grey100)})),S=E.ZP.div(o||(o=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: 50px;\n  left: -180px;\n  width: 230px;\n  display: block;\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 0px;\n  padding: 5px;\n  box-sizing: border-box;\n  z-index: 4;\n\n  & > section > video,\n  canvas {\n    width: 100%;\n  }\n\n  &:before {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 185px;\n    top: 100%;\n    width: 0;\n    height: 0;\n    border: 10px solid transparent;\n    border-top-color: ",";\n  }\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 186px;\n    top: 100%;\n    width: 0;\n    height: 0;\n    border: 9px solid transparent;\n    border-top-color: ",";\n  }\n"])),(function(e){return e.theme.grey000}),(function(e){return e.theme.grey100}),(function(e){return e.theme.grey100}),(function(e){return e.theme.grey000})),C=function QRCodeCapture(e){var t=e.border,r=e.handleError,n=e.handleScan,o=e.handleToggle,i=e.toggled;return s.createElement(P,{border:t,onClick:o},!i&&s.createElement(A.JO,{name:"qr-code",color:"grey500",width:"20px",height:"20px"}),i&&s.createElement(A.JA,{width:"24px",height:"24px",color:"success",onClick:o}),i&&s.createElement(S,null,s.createElement(v.Z,{onScan:n,onError:r})))};C.propTypes={handleError:l().func.isRequired,handleScan:l().func.isRequired,handleToggle:l().func.isRequired,toggled:l().bool.isRequired};const w=C;function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=_.o4.wx.Um.Y,T=_.o4.wx.Xt.Y,O=_.o4.wx.Em.Y,I=_.o4.wx.tF.FORM,N=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(QRCodeCaptureContainer,e);var t=_createSuper(QRCodeCaptureContainer);function QRCodeCaptureContainer(e){var r;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,QRCodeCaptureContainer),_defineProperty(_assertThisInitialized(r=t.call(this,e)),"handleToggle",(function(){r.setState((function(e){return{toggled:!e.toggled}}))})),_defineProperty(_assertThisInitialized(r),"handleScan",(function(e){if(!(0,p.Z)(e)&&!(0,u.Z)(e)){try{var t=r.getScanHandlerKey();r[t](e)}catch(t){r.props.onScan(e)}r.setState({toggled:!1})}})),_defineProperty(_assertThisInitialized(r),"handleError",(function(e){(0,p.Z)(e)||(0,u.Z)(e)||("NotAllowedError"===e.name?r.props.alertActions.displayError(x.Zd):r.props.alertActions.displayError(e.message))})),_defineProperty(_assertThisInitialized(r),"createNewValue",(function(e){return{value:{label:e,value:e}}})),_defineProperty(_assertThisInitialized(r),"getScanHandlerKey",(function(){return"handleScan".concat((0,h.Z)(/^./,f.Z,r.props.scanType))})),_defineProperty(_assertThisInitialized(r),"getAddressOrBitPayInvoice",(function(e,t){var r,n,o=(0,m.Z)("".concat(e,":?r=https://bitpay.com/"),t);if(o)r=t;else try{var s=c().decode(t,e);r=(0,y.Z)("address",s),n=(0,y.Z)("options",s)}catch(e){throw Error("invalid_bip21")}return{address:r,isBitPay:o,options:n}})),r.state={toggled:!1},r}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(QRCodeCaptureContainer,[{key:"handleScanBtcAddress",value:function handleScanBtcAddress(e){var t;try{t=this.getAddressOrBitPayInvoice("bitcoin",e);var r=this.props,n=r.btcRatesR,o=r.currency,s=n.getOrElse({price:0}),i=t.options,a=i.amount,c=i.message,d=b.ei.convertCoinToFiat({coin:"BTC",currency:o,isStandard:!0,rates:s,value:a});this.props.formActions.change(R,"to",this.createNewValue(t.address)),this.props.formActions.change(R,"description",c),this.props.formActions.change(R,"amount",{coin:a,fiat:d})}catch(r){try{if(b.P6.btc.isValidBtcAddress(e,this.props.network)||t.isBitPay)return void this.props.formActions.change(R,"to",this.createNewValue(e));throw Error("invalid_btc_addr")}catch(e){this.props.alertActions.displayError(x.SI)}}}},{key:"handleScanBchAddress",value:function handleScanBchAddress(e){var t;try{var r=(t=this.getAddressOrBitPayInvoice("bitcoincash",e)).options,n=r.amount,o=r.message;this.props.formActions.change(T,"to",this.createNewValue(t.address)),this.props.formActions.change(T,"amount",n),this.props.formActions.change(T,"description",o),this.setState({bchAddressToggled:!1})}catch(r){try{if(b.P6.bch.isCashAddr(e))return void this.props.formActions.change(T,"to",this.createNewValue(e));if(b.P6.btc.isValidBtcAddress(e,this.props.network)||t.isBitPay)return void this.props.formActions.change(T,"to",this.createNewValue(e));throw Error("invalid_bch_addr")}catch(e){this.props.alertActions.displayError(x.OQ)}}}},{key:"handleScanEthAddress",value:function handleScanEthAddress(e){var t=b.P6.eth.sanitazeEth(e);b.P6.eth.isValidAddress(t)?this.props.formActions.change(O,"to",this.createNewValue(t)):this.props.alertActions.displayError(x.pz)}},{key:"handleScanXlmAddress",value:function handleScanXlmAddress(e){var t=b.P6.xlm.decodeXlmURI(e).address;b.P6.xlm.isValidAddress(t)?this.props.formActions.change(I,"to",this.createNewValue(t)):this.props.alertActions.displayError(x.ok)}},{key:"handleScanBtcPriv",value:function handleScanBtcPriv(e){b.P6.btc.isValidBtcPrivateKey(e,this.props.network)?(this.props.formActions.change(this.props.form||R,"priv",e),this.props.formActions.touch(this.props.form||R,"priv")):this.props.alertActions.displayError(x.X1)}},{key:"handleScanBtcPrivOrAddress",value:function handleScanBtcPrivOrAddress(e){try{var t=c().decode(e).address;b.P6.btc.isValidBtcAddress(t,this.props.network)?(this.props.formActions.change(this.props.form||"importBtcAddress","addrOrPriv",t),this.props.formActions.touch(this.props.form||"importBtcAddress","addrOrPriv")):this.props.alertActions.displayError(x.Z1)}catch(t){b.P6.btc.isValidBtcPrivateKey(e,this.props.network)||b.P6.btc.isValidBtcAddress(e,this.props.network)?(this.props.formActions.change(this.props.form||"importBtcAddress","addrOrPriv",e),this.props.formActions.touch(this.props.form||"importBtcAddress","addrOrPriv")):this.props.alertActions.displayError(x.Z1)}}},{key:"render",value:function render(){var e=this.props.border,t=this.state.toggled;return s.createElement(w,{border:e,toggled:t,handleToggle:this.handleToggle,handleScan:this.handleScan,handleError:this.handleError})}}]),QRCodeCaptureContainer}(s.PureComponent);N.defaultProps={scanType:l().oneOf(["btcAddress","ethAddress","bchAddress","xlmAddress","btcPriv","btcPrivOrAddress"])};const j=(0,i.connect)((function mapStateToProps(e){return{btcRatesR:_.wl.vE.aT.coins.getRates("BTC",e),currency:_.wl.vE.Xd.getCurrency(e).getOrElse("USD")}}),(function mapDispatchToProps(e){return{alertActions:(0,g.bindActionCreators)(_.Nw.$u,e),formActions:(0,g.bindActionCreators)(_.Nw.cr,e),modalActions:(0,g.bindActionCreators)(_.Nw.qk,e)}}))(N)},"./src/components/Flyout/Banners/UpgradeToGold.tsx":(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=r("../../node_modules/react/index.js"),o=r("./node_modules/react-intl/lib/src/components/message.js"),s=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=r("../blockchain-wallet-v4/src/exchange/currencies/index.ts"),a=r("../blockchain-wallet-v4/src/exchange/utils.ts"),c=r("../blockchain-info-components/src/index.js"),d=r("./src/services/styles/index.ts");const l=s.ZP.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  border: 1px solid ${e=>e.theme.grey000};
  border-radius: 8px;
  padding: 20px;
  margin: 10px 0;

  ${d.BC.atLeastLaptop`
    height: 142px;
    padding: 0 20px;
  `}
  ${d.BC.mobile`
    padding: 12px;
    flex-direction: column;
  `}
`,p=s.ZP.div`
  display: flex;
  align-items: center;
`,u=(0,s.ZP)(p)`
  justify-content: space-between;
`,h=s.ZP.div`
  display: flex;
  flex-direction: column;

  & > div:first-child {
    margin-bottom: 4px;
  }
`,f=s.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 40px;
  width: 40px;
  min-width: 40px;
  border-radius: 20px;
`,m=(0,s.ZP)(c.xv)`
  display: flex;
  align-items: flex-start;
  ${d.BC.mobile`
    font-size: 12px;
  `}
  ${d.BC.tablet`
    font-size: 14px;
  `}
`,y=(0,s.ZP)(c.zx)`
  height: 32px;
  font-size: 14px;
  ${d.BC.mobile`
    margin-top: 16px;
    padding: 10px;
  `}
`,g=s.ZP.div`
  cursor: pointer;
`,__WEBPACK_DEFAULT_EXPORT__=({limits:e,verifyIdentity:t})=>{const[r,s]=(0,n.useState)(!1),{suggestedUpgrade:d}=e.globalLimit;if(r)return null;const closeBanner=()=>{s((e=>!e))};return n.createElement(l,null,n.createElement(h,null,n.createElement(u,null,n.createElement(f,null,n.createElement(c.Ee,{name:"tier-gold",size:"32px"})),n.createElement(c.xv,{size:"16px",weight:600,color:"grey900",style:{flex:1}},n.createElement(o.Z,{id:"modals.send.banner.title",defaultMessage:"Uprade to Gold. Send More Crypto."})),n.createElement(g,{"data-e2e":"upgradeToGoldCloseButton",onClick:closeBanner},n.createElement(c.JO,{size:"20px",color:"grey400",name:"close-circle"}))),n.createElement(p,{style:{marginBottom:"8px"}},n.createElement(m,{size:"14px",color:"grey900",weight:500},n.createElement(o.Z,{id:"modals.send.banner.description",defaultMessage:"Verify your ID now and unlock Gold level trading. Send up to {dayCurrencySymbol}{dayAmount} a day.",values:{dayAmount:(0,a.M)(d.available.value,0),dayCurrencySymbol:i.Z[d.available.currency].units[d.available.currency].symbol}}))),n.createElement(p,null,n.createElement(y,{onClick:closeBanner,"data-e2e":"notNow",nature:"empty-blue",style:{marginRight:"8px"}},n.createElement(o.Z,{id:"copy.not_now",defaultMessage:"Not Now"})),n.createElement(y,{onClick:t,"data-e2e":"continueToGold",nature:"primary"},n.createElement(o.Z,{id:"modals.send.banner.get_started",defaultMessage:"Get Stared"})))))}},"./src/components/QRCode/Reader/index.tsx":(e,t,r)=>{r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var n=r("../../node_modules/react/index.js"),o=r("./node_modules/react-intl/lib/src/components/message.js"),s=r("../../node_modules/react-qr-reader/lib/index.js"),i=r.n(s),a=r("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=r("../blockchain-info-components/src/index.js"),d=r("./src/utils/helpers.ts");const l=a.ZP.div`
  > section > section > div {
    border: 30px solid rgba(0, 0, 0, 0.3) !important;
    box-shadow: rgba(255, 255, 255, 0.5) 0px 0px 0px 4px inset !important;
  }
`,p=a.ZP.div`
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0.5;
  padding: 20px;
  margin: 20px;
`,__WEBPACK_DEFAULT_EXPORT__=e=>{const{onError:t,onScan:r}=e,[s,a]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{(0,d.Yf)().then((e=>{a(e),h(!1)}))}),[]),u?n.createElement(p,null,n.createElement(c.T_,{width:"80px",height:"80px"})):s?n.createElement(l,null,n.createElement(i(),{onScan:r,onError:t})):n.createElement(c.jL,{type:"warning"},n.createElement(o.Z,{id:"components.qrreader.warning",defaultMessage:"Your browser does not have webcam support."}))}},"./src/modals/Settings/TradingLimits/model.ts":(e,t,r)=>{var n,o;r.d(t,{iY:()=>n,cq:()=>o,Iy:()=>s}),function(e){e[e.NONE=0]="NONE",e[e.SILVER=1]="SILVER",e[e.GOLD=2]="GOLD",e[e.SILVER_PLUS=3]="SILVER_PLUS"}(n||(n={})),function(e){e.BUY_WITH_A_CARD="buy_with_a_card",e.CASH_ACCOUNT="cash_account",e.DEPOSIT_AND_WITHDRAWAL="deposit_and_withdrawal",e.EARN_INTEREST="earn_interest",e.RECEIVE="receive",e.SEND="send",e.SWAP="swap"}(o||(o={}));const s={[n.NONE]:{[o.SEND]:!0,[o.RECEIVE]:!0,[o.SWAP]:!1,[o.CASH_ACCOUNT]:!1,[o.BUY_WITH_A_CARD]:!1,[o.DEPOSIT_AND_WITHDRAWAL]:!1,[o.EARN_INTEREST]:!1},[n.SILVER]:{[o.SEND]:!0,[o.RECEIVE]:!0,[o.SWAP]:!0,[o.CASH_ACCOUNT]:!1,[o.BUY_WITH_A_CARD]:!1,[o.DEPOSIT_AND_WITHDRAWAL]:!1,[o.EARN_INTEREST]:!1},[n.GOLD]:{[o.SEND]:!0,[o.RECEIVE]:!0,[o.SWAP]:!0,[o.CASH_ACCOUNT]:!0,[o.BUY_WITH_A_CARD]:!0,[o.DEPOSIT_AND_WITHDRAWAL]:!0,[o.EARN_INTEREST]:!0},[n.SILVER_PLUS]:{[o.SEND]:!0,[o.RECEIVE]:!0,[o.SWAP]:!0,[o.CASH_ACCOUNT]:!1,[o.BUY_WITH_A_CARD]:!0,[o.DEPOSIT_AND_WITHDRAWAL]:!1,[o.EARN_INTEREST]:!1}}}}]);